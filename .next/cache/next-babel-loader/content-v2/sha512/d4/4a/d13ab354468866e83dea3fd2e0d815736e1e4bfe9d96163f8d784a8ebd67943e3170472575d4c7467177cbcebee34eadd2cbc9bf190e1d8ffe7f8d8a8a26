{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"F:\\\\StudentAffairs\\\\students\\\\students\\\\pages\\\\students_affairs\\\\admin\\\\exams\\\\exams-list.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport Admin from 'layouts/Admin.js';\nimport GridContainer from '../../../../components/Grid/GridContainer';\nimport { Add } from \"@material-ui/icons\";\nimport { Button, FormControl, Grid, InputLabel, MenuItem, Select, Typography, makeStyles } from \"@material-ui/core\";\nimport GridItem from '../../../../components/Grid/GridItem';\nimport PlanService from '../../../../Services/PlanService';\nimport EduYearService from '../../../../Services/EduYearService';\nimport ExamService from '../../../../Services/ExamService';\nimport { useTranslation } from '../../../../Utility/Translations/useTranslation';\nimport styles from 'assets/jss/nextjs-material-dashboard/views/dashboardStyle.js';\nimport { KeyboardDatePicker, MuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport DateFnsUtils from '@date-io/date-fns';\n\nconst ExamsList = ({}) => {\n  const {\n    translate\n  } = useTranslation();\n  const useStyles = makeStyles(styles);\n  const classes = useStyles(); // Programs\n\n  const {\n    0: programs,\n    1: setPrograms\n  } = useState([]);\n  const {\n    0: program,\n    1: setProgram\n  } = useState(null); // Courses\n\n  const {\n    0: courses,\n    1: setCourses\n  } = useState([]);\n  const {\n    0: course,\n    1: setCourse\n  } = useState(null); // Edu Year\n\n  const {\n    0: eduYears,\n    1: setEduYears\n  } = useState([]);\n  const {\n    0: eduYear,\n    1: setEduYear\n  } = useState(null); // Exam Type\n\n  const {\n    0: examsTypes,\n    1: setExamsType\n  } = useState([]);\n  const {\n    0: examType,\n    1: setExamType\n  } = useState(null);\n  useEffect(() => {\n    PlanService.GetAll().then(programs => {\n      EduYearService.GetYears('').then(eduYears => {\n        setPrograms(programs.result);\n        setEduYears(eduYears.result);\n      }).catch(err => {\n        console.error(\"Error\", err);\n      });\n    }).catch(err => {\n      console.error(\"Error\", err);\n    });\n  }, []);\n\n  const changeProgram = val => {\n    setProgram(val);\n  };\n\n  const changeEduYear = val => {\n    setEduYear(val);\n    setLoadCourses(true);\n    ExamService.GetAllCourses(program, val.toString()).then(resp => {\n      console.log(resp.result);\n      setCourses(resp.result);\n    }).catch(error => {});\n    setLoadCourses(false);\n  };\n\n  const changeCourse = val => {\n    setCourse(val);\n    setLoadExamsType(true);\n\n    let _course = courses.find(e => e.id === val);\n\n    setExamsType(_course.evaluation_methods);\n    setLoadExamsType(false);\n  };\n\n  const {\n    0: loadCourses,\n    1: setLoadCourses\n  } = useState(false);\n  const {\n    0: loadExamsType,\n    1: setLoadExamsType\n  } = useState(false);\n  const {\n    0: plans,\n    1: setPlans\n  } = useState([]);\n\n  const changeExamType = val => {\n    let _course = courses.find(e => e.id == course);\n\n    setExamType(val);\n    console.clear();\n    console.log(courses);\n    console.log(_course);\n    ExamService.GetAllPlans(program, eduYear, _course.edu_course_id, val.toString()).then(resp => setPlans(resp.result)).catch(error => {});\n  }; // handle add coursse to program\n\n\n  const handleAddExam = () => {// const payLoad = {\n    //   program_id: program,\n    //   year_id: specYear,\n    //   edu_year_id: year,\n    //   course_id: course,\n    //   semester: semester,\n    // };\n    // PlanService.AddCourse(payLoad)\n    //   .then((result) => {\n    //     if (result.success) {\n    //       toast.success(translate(\"Course Added To Plan Successfully\"));\n    //       PlanService.GetProgramCourses(program, specYear, year)\n    //         .then((resp) => {\n    //           if (resp.success) {\n    //             setProgramCourses(resp.result);\n    //           }\n    //         })\n    //         .catch((err) => {});\n    //     }\n    //   })\n    //   .catch((error) => {\n    //     toast.error(error.message);\n    //   });\n  };\n\n  const {\n    0: selectePlanes,\n    1: setSelectedPlans\n  } = useState([]);\n  const {\n    0: selectedDate,\n    1: handleDateChange\n  } = useState(new Date());\n\n  const selectPlan = e => {};\n\n  const renderPlans = plans => {\n    if (plans.length > 0) {\n      return /*#__PURE__*/_jsxDEV(MuiPickersUtilsProvider, {\n        utils: DateFnsUtils,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          md: 12,\n          children: [/*#__PURE__*/_jsxDEV(GridItem, {\n            md: 2,\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              style: {\n                fontWeight: 'bold'\n              },\n              children: \"\\u0627\\u0644\\u0633\\u0646\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            md: 2,\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              style: {\n                fontWeight: 'bold'\n              },\n              children: \"\\u0627\\u0644\\u0627\\u062E\\u062A\\u0635\\u0627\\u0635\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            md: 2,\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              style: {\n                fontWeight: 'bold'\n              },\n              children: \"\\u0627\\u0644\\u0641\\u0635\\u0644\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            md: 2,\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              style: {\n                fontWeight: 'bold'\n              },\n              children: \"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0637\\u0644\\u0627\\u0628 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              style: {\n                fontWeight: 'bold'\n              },\n              children: \"\\u0645\\u0633\\u062A\\u062C\\u062F | \\u0645\\u0639\\u064A\\u062F \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          md: 12,\n          style: {\n            margin: \"2em 0em\"\n          },\n          children: plans.map(e => {\n            var _e$year, _e$year2, _e$year2$speciality;\n\n            return /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(GridItem, {\n                md: 2,\n                children: (_e$year = e.year) === null || _e$year === void 0 ? void 0 : _e$year.ar_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n                md: 2,\n                children: (_e$year2 = e.year) === null || _e$year2 === void 0 ? void 0 : (_e$year2$speciality = _e$year2.speciality) === null || _e$year2$speciality === void 0 ? void 0 : _e$year2$speciality.ar_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n                md: 2,\n                children: e.semester\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n                md: 1,\n                children: [e.new_students_num, \" | \", e.old_students_num]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n                md: 2,\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  value: e.id,\n                  onChange: e => selectPlan(e)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          md: 12,\n          children: [/*#__PURE__*/_jsxDEV(GridItem, {\n            md: 2,\n            children: \"\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            md: 2,\n            children: /*#__PURE__*/_jsxDEV(KeyboardDatePicker, {\n              clearable: true,\n              value: selectedDate,\n              placeholder: \"10/10/2018\",\n              onChange: date => handleDateChange(date),\n              minDate: new Date(),\n              format: \"MM/dd/yyyy\" // inputVariant=\"outlined\"\n\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          md: 12,\n          children: [/*#__PURE__*/_jsxDEV(GridItem, {\n            md: 2,\n            children: \"\\u0627\\u0644\\u0648\\u0642\\u062A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n            md: 2,\n            children: [/*#__PURE__*/_jsxDEV(TimePicker, {\n              clearable: true,\n              ampm: false,\n              label: \"24 hours\",\n              value: selectedDate,\n              onChange: handleDateChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(TimePicker, {\n              showTodayButton: true,\n              todayLabel: \"now\",\n              label: \"Step = 5\",\n              value: selectedDate,\n              minutesStep: 5,\n              onChange: handleDateChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 20\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        md: 12,\n        style: {\n          margin: \"2em 0em\",\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          style: {\n            textAlign: 'center'\n          },\n          variant: \"h5\",\n          component: \"div\",\n          children: `لاتوجد بيانات لعرضها`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 20\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(GridContainer, {\n    md: 12,\n    children: [/*#__PURE__*/_jsxDEV(GridContainer, {\n      md: 12,\n      children: /*#__PURE__*/_jsxDEV(GridItem, {\n        style: {\n          margin: \"-1em 0 1em 0\"\n        },\n        md: 12,\n        className: classes.typography,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          component: \"div\",\n          children: `إضافة واقعة امتحانية`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      md: 12,\n      style: {\n        margin: \"2em 0em\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(GridItem, {\n        md: 2,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"filled\",\n          size: \"small\",\n          size: \"small\",\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            id: \"demo-simple-select-label\",\n            children: \"\\u0627\\u0644\\u0628\\u0631\\u0646\\u0627\\u0645\\u062C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            labelId: \"demo-simple-select-label\",\n            id: \"demo-simple-select\",\n            value: program,\n            label: \"programs\",\n            onChange: e => changeProgram(e.target.value),\n            children: programs === null || programs === void 0 ? void 0 : programs.map(program => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: program.id,\n              children: program.name\n            }, program.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n        md: 2,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"filled\",\n          size: \"small\",\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            id: \"demo-simple-select-label\",\n            children: \"\\u0627\\u0644\\u0633\\u0646\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            labelId: \"demo-simple-select-label\",\n            id: \"demo-simple-select\",\n            value: eduYear,\n            label: \"specYears\",\n            onChange: e => changeEduYear(e.target.value),\n            children: eduYears.map(spYear => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: spYear.id,\n              children: spYear.year\n            }, spYear.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n        md: 2,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"filled\",\n          size: \"small\",\n          size: \"small\",\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            id: \"demo-simple-select-label\",\n            children: \"\\u0627\\u0644\\u0645\\u0642\\u0631\\u0651\\u0631\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            disabled: loadCourses,\n            labelId: \"demo-simple-select-label\",\n            id: \"demo-simple-select\",\n            value: course,\n            label: \"courses\",\n            onChange: e => changeCourse(e.target.value),\n            children: courses.map(course => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: course.id,\n              children: course.ar_name\n            }, course.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n        md: 2,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"filled\",\n          size: \"small\",\n          size: \"small\",\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            id: \"demo-simple-select-label\",\n            children: \"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0648\\u0627\\u0642\\u0639\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            disabled: loadExamsType,\n            labelId: \"demo-simple-select-label\",\n            id: \"demo-simple-select\",\n            value: examType,\n            label: \"examTypes\",\n            onChange: e => changeExamType(e.target.value),\n            children: examsTypes.map(exam => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: exam.id,\n              children: exam.name\n            }, exam.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n        md: 2,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            margin: \"10px 5px\"\n          },\n          variant: \"contained\",\n          className: classes.submitBtn,\n          onClick: handleAddExam,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              padding: \"0px 0px 0px 10px\"\n            },\n            children: translate(\"Add\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 9\n    }, this), renderPlans(plans)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 12\n  }, this);\n};\n\nExamsList.auth = true;\nExamsList.layout = Admin;\nexport default ExamsList;","map":{"version":3,"sources":["F:/StudentAffairs/students/students/pages/students_affairs/admin/exams/exams-list.tsx"],"names":["React","useEffect","useState","Admin","GridContainer","Add","Button","FormControl","Grid","InputLabel","MenuItem","Select","Typography","makeStyles","GridItem","PlanService","EduYearService","ExamService","useTranslation","styles","KeyboardDatePicker","MuiPickersUtilsProvider","DateFnsUtils","ExamsList","translate","useStyles","classes","programs","setPrograms","program","setProgram","courses","setCourses","course","setCourse","eduYears","setEduYears","eduYear","setEduYear","examsTypes","setExamsType","examType","setExamType","GetAll","then","GetYears","result","catch","err","console","error","changeProgram","val","changeEduYear","setLoadCourses","GetAllCourses","toString","resp","log","changeCourse","setLoadExamsType","_course","find","e","id","evaluation_methods","loadCourses","loadExamsType","plans","setPlans","changeExamType","clear","GetAllPlans","edu_course_id","handleAddExam","selectePlanes","setSelectedPlans","selectedDate","handleDateChange","Date","selectPlan","renderPlans","length","fontWeight","margin","map","year","ar_name","speciality","semester","new_students_num","old_students_num","date","display","justifyContent","textAlign","typography","target","value","name","spYear","exam","submitBtn","padding","auth","layout"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport Admin from 'layouts/Admin.js';\r\nimport GridContainer from '../../../../components/Grid/GridContainer';\r\nimport { Add, ArrowBack, Backspace, ZoomIn } from \"@material-ui/icons\";\r\nimport {\r\n    Button,\r\n    FormControl,\r\n    Grid,\r\n    InputLabel,\r\n    MenuItem,\r\n    Select,\r\n    Typography,\r\n    makeStyles,\r\n    Input,\r\n} from \"@material-ui/core\";\r\nimport GridItem from '../../../../components/Grid/GridItem';\r\nimport PlanService from '../../../../Services/PlanService';\r\nimport CourseService from '../../../../Services/CourseService';\r\nimport EduYearService from '../../../../Services/EduYearService';\r\nimport ExamService from '../../../../Services/ExamService';\r\nimport { useTranslation } from '../../../../Utility/Translations/useTranslation';\r\nimport styles from 'assets/jss/nextjs-material-dashboard/views/dashboardStyle.js';\r\nimport { type } from '../../../../components/Privilege/Privilege';\r\nimport { KeyboardDatePicker, MuiPickersUtilsProvider } from \"@material-ui/pickers\";\r\nimport DateFnsUtils from '@date-io/date-fns';\r\n\r\ninterface IExamsListProps { }\r\nconst ExamsList: React.FC<IExamsListProps> = ({ }) => {\r\n    const { translate } = useTranslation();\r\n    const useStyles = makeStyles(styles);\r\n    const classes = useStyles();\r\n\r\n\r\n    // Programs\r\n    const [programs, setPrograms] = useState([]);\r\n    const [program, setProgram] = useState(null);\r\n\r\n    // Courses\r\n    const [courses, setCourses] = useState([]);\r\n    const [course, setCourse] = useState(null);\r\n\r\n    // Edu Year\r\n    const [eduYears, setEduYears] = useState([]);\r\n    const [eduYear, setEduYear] = useState(null);\r\n\r\n    // Exam Type\r\n    const [examsTypes, setExamsType] = useState([]);\r\n    const [examType, setExamType] = useState(null);\r\n\r\n    useEffect(() => {\r\n        PlanService.GetAll()\r\n            .then((programs) => {\r\n                EduYearService.GetYears('')\r\n                    .then((eduYears) => {\r\n                        setPrograms(programs.result);\r\n                        setEduYears(eduYears.result);\r\n                    })\r\n                    .catch((err) => {\r\n                        console.error(\"Error\", err);\r\n                    })\r\n            })\r\n            .catch((err) => {\r\n                console.error(\"Error\", err);\r\n            });\r\n    }, []);\r\n\r\n    const changeProgram = (val: number) => {\r\n        setProgram(val);\r\n    };\r\n\r\n    const changeEduYear = (val: number) => {\r\n        setEduYear(val);\r\n        setLoadCourses(true);\r\n        ExamService.GetAllCourses(program, val.toString()).then(resp => {\r\n            console.log(resp.result)\r\n            setCourses(resp.result);\r\n        }).catch(error => {\r\n\r\n        })\r\n        setLoadCourses(false)\r\n    };\r\n\r\n    const changeCourse = (val: number) => {\r\n        setCourse(val);\r\n        setLoadExamsType(true);\r\n        let _course = courses.find(e => e.id === val);\r\n        setExamsType(_course.evaluation_methods);\r\n        setLoadExamsType(false);\r\n    }\r\n\r\n    const [loadCourses, setLoadCourses] = useState(false);\r\n    const [loadExamsType, setLoadExamsType] = useState(false);\r\n\r\n    const [plans, setPlans] = useState([]);\r\n    const changeExamType = (val: number) => {\r\n        let _course = courses.find(e => e.id == course);\r\n        setExamType(val);\r\n        console.clear();\r\n        console.log(courses);\r\n        console.log(_course);\r\n        ExamService.GetAllPlans(program, eduYear, _course.edu_course_id, val.toString())\r\n            .then(resp => setPlans(resp.result))\r\n            .catch(error => { })\r\n    }\r\n    // handle add coursse to program\r\n    const handleAddExam = () => {\r\n        // const payLoad = {\r\n        //   program_id: program,\r\n        //   year_id: specYear,\r\n        //   edu_year_id: year,\r\n        //   course_id: course,\r\n        //   semester: semester,\r\n        // };\r\n        // PlanService.AddCourse(payLoad)\r\n        //   .then((result) => {\r\n        //     if (result.success) {\r\n        //       toast.success(translate(\"Course Added To Plan Successfully\"));\r\n        //       PlanService.GetProgramCourses(program, specYear, year)\r\n        //         .then((resp) => {\r\n        //           if (resp.success) {\r\n        //             setProgramCourses(resp.result);\r\n        //           }\r\n        //         })\r\n        //         .catch((err) => {});\r\n        //     }\r\n        //   })\r\n        //   .catch((error) => {\r\n        //     toast.error(error.message);\r\n        //   });\r\n    };\r\n\r\n    const [selectePlanes, setSelectedPlans] = useState([]);\r\n    const [selectedDate, handleDateChange] = useState(new Date());\r\n    const selectPlan = (e) => { }\r\n    const renderPlans = (plans) => {\r\n        if (plans.length > 0) {\r\n            return <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                <Grid container md={12}>\r\n                    <GridItem md={2}>\r\n                        <h5 style={{ fontWeight: 'bold' }}>السنة</h5>\r\n                    </GridItem>\r\n                    <GridItem md={2}>\r\n                        <h5 style={{ fontWeight: 'bold' }}>الاختصاص</h5>\r\n                    </GridItem>\r\n                    <GridItem md={2}>\r\n                        <h5 style={{ fontWeight: 'bold' }}>الفصل</h5>\r\n\r\n                    </GridItem>\r\n                    <GridItem md={2}>\r\n                        <h5 style={{ fontWeight: 'bold' }}>عدد الطلاب </h5>\r\n                        <h5 style={{ fontWeight: 'bold' }}>مستجد | معيد </h5>\r\n                    </GridItem>\r\n                </Grid>\r\n                <Grid container md={12} style={{ margin: \"2em 0em\" }}>\r\n                    {\r\n                        plans.map(e => (<>\r\n                            <GridItem md={2}>\r\n                                {e.year ?.ar_name}\r\n                            </GridItem>\r\n                            <GridItem md={2}>\r\n                                {e.year ?.speciality ?.ar_name}\r\n                            </GridItem>\r\n                            <GridItem md={2}>\r\n                                {e.semester}\r\n                            </GridItem>\r\n                            <GridItem md={1}>\r\n                                {e.new_students_num} | {e.old_students_num}\r\n                            </GridItem>\r\n                            <GridItem md={2}>\r\n                                <input type=\"checkbox\" value={e.id} onChange={e => selectPlan(e)} />\r\n                            </GridItem>\r\n                        </>))\r\n                    }\r\n                </Grid>\r\n                <Grid container md={12}>\r\n                    <GridItem md={2}>\r\n                        التاريخ\r\n                    </GridItem>\r\n                    <GridItem md={2}>\r\n                        <KeyboardDatePicker\r\n                            clearable\r\n                            value={selectedDate}\r\n                            placeholder=\"10/10/2018\"\r\n                            onChange={date => handleDateChange(date)}\r\n                            minDate={new Date()}\r\n                            format=\"MM/dd/yyyy\"\r\n                        // inputVariant=\"outlined\"\r\n                        />\r\n                    </GridItem>\r\n                </Grid>\r\n                <Grid container md={12}>\r\n                    <GridItem md={2}>\r\n                        الوقت\r\n                    </GridItem>\r\n                    <GridItem md={2}>\r\n                        <TimePicker\r\n                            clearable\r\n                            ampm={false}\r\n                            label=\"24 hours\"\r\n                            value={selectedDate}\r\n                            onChange={handleDateChange}\r\n                        />\r\n                        <TimePicker\r\n                            showTodayButton\r\n                            todayLabel=\"now\"\r\n                            label=\"Step = 5\"\r\n                            value={selectedDate}\r\n                            minutesStep={5}\r\n                            onChange={handleDateChange}\r\n                        />\r\n                    </GridItem>\r\n                </Grid>\r\n            </MuiPickersUtilsProvider>\r\n        }\r\n        else {\r\n            return <Grid container md={12} style={{\r\n                margin: \"2em 0em\", display: 'flex',\r\n                justifyContent: 'center'\r\n            }}>\r\n                <Typography style={{ textAlign: 'center' }} variant=\"h5\" component=\"div\">\r\n                    {`لاتوجد بيانات لعرضها`}\r\n                </Typography>\r\n            </Grid>\r\n        }\r\n    }\r\n    return <GridContainer md={12}>\r\n        <GridContainer md={12}>\r\n            <GridItem\r\n                style={{ margin: \"-1em 0 1em 0\" }}\r\n                md={12}\r\n                className={classes.typography}\r\n            >\r\n                <Typography variant=\"h5\" component=\"div\">\r\n                    {`إضافة واقعة امتحانية`}\r\n                </Typography>\r\n            </GridItem>\r\n        </GridContainer>\r\n        <Grid container md={12} style={{ margin: \"2em 0em\" }}>\r\n            <GridItem md={2}>\r\n                <FormControl fullWidth variant=\"filled\" size=\"small\" size=\"small\">\r\n                    <InputLabel id=\"demo-simple-select-label\">البرنامج</InputLabel>\r\n                    <Select\r\n                        labelId=\"demo-simple-select-label\"\r\n                        id=\"demo-simple-select\"\r\n                        value={program}\r\n                        label=\"programs\"\r\n                        onChange={(e) => changeProgram(e.target.value)}\r\n                    >\r\n                        {programs ?.map((program) => (\r\n                            <MenuItem key={program.id} value={program.id}>\r\n                                {program.name}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                </FormControl>\r\n            </GridItem>\r\n            <GridItem md={2}>\r\n                <FormControl fullWidth variant=\"filled\" size=\"small\">\r\n                    <InputLabel id=\"demo-simple-select-label\">السنة</InputLabel>\r\n                    <Select\r\n                        labelId=\"demo-simple-select-label\"\r\n                        id=\"demo-simple-select\"\r\n                        value={eduYear}\r\n                        label=\"specYears\"\r\n                        onChange={(e) => changeEduYear(e.target.value)}\r\n                    >\r\n                        {eduYears.map((spYear) => (\r\n                            <MenuItem key={spYear.id} value={spYear.id}>\r\n                                {spYear.year}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                </FormControl>\r\n            </GridItem>\r\n            <GridItem md={2}>\r\n                <FormControl fullWidth variant=\"filled\" size=\"small\" size=\"small\">\r\n                    <InputLabel id=\"demo-simple-select-label\">المقرّر</InputLabel>\r\n                    <Select\r\n                        disabled={loadCourses}\r\n                        labelId=\"demo-simple-select-label\"\r\n                        id=\"demo-simple-select\"\r\n                        value={course}\r\n                        label=\"courses\"\r\n                        onChange={(e) => changeCourse(e.target.value)}\r\n                    >\r\n                        {courses.map((course) => (\r\n                            <MenuItem key={course.id} value={course.id}>\r\n                                {course.ar_name}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                </FormControl>\r\n            </GridItem>\r\n            <GridItem md={2}>\r\n                <FormControl fullWidth variant=\"filled\" size=\"small\" size=\"small\">\r\n                    <InputLabel id=\"demo-simple-select-label\">نوع الواقعة</InputLabel>\r\n                    <Select\r\n                        disabled={loadExamsType}\r\n                        labelId=\"demo-simple-select-label\"\r\n                        id=\"demo-simple-select\"\r\n                        value={examType}\r\n                        label=\"examTypes\"\r\n                        onChange={(e) => changeExamType(e.target.value)}\r\n                    >\r\n                        {examsTypes.map((exam) => (\r\n                            <MenuItem key={exam.id} value={exam.id}>\r\n                                {exam.name}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                </FormControl>\r\n            </GridItem>\r\n            <GridItem md={2}>\r\n                <Button\r\n                    style={{ margin: \"10px 5px\" }}\r\n                    variant=\"contained\"\r\n                    className={classes.submitBtn}\r\n                    onClick={handleAddExam}\r\n                >\r\n                    <span style={{ padding: \"0px 0px 0px 10px\" }}>\r\n                        {translate(\"Add\")}\r\n                    </span>\r\n                    <Add />\r\n                </Button>\r\n            </GridItem>\r\n            {/* <GridItem md={2}>\r\n                <Button\r\n                    style={{ margin: \"10px 5px\" }}\r\n                    variant=\"contained\"\r\n                    className={classes.submitBtn}\r\n                    onClick={getProgramCourses}\r\n                >\r\n                    <span style={{ padding: \"0px 0px 0px 10px\" }}>\r\n                        {translate(\"Show Courses\")}\r\n                    </span>\r\n                    <ZoomIn />\r\n                </Button>\r\n            </GridItem> */}\r\n        </Grid>\r\n        {\r\n            renderPlans(plans)\r\n        }\r\n    </GridContainer>\r\n}\r\n\r\n(ExamsList as any).auth = true;\r\n(ExamsList as any).layout = Admin;\r\nexport default ExamsList;\r\n\r\n"]},"metadata":{},"sourceType":"module"}