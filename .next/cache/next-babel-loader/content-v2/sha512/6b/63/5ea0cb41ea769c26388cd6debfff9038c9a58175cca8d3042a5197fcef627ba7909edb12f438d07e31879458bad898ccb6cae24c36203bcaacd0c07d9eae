{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"F:\\\\StudentAffairs\\\\students\\\\students\\\\pages\\\\students_affairs\\\\admin\\\\exams\\\\exams-list.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport Admin from 'layouts/Admin.js';\nimport GridContainer from '../../../../components/Grid/GridContainer';\nimport { Add } from \"@material-ui/icons\";\nimport { Button, FormControl, Grid, InputLabel, MenuItem, Select, Typography, makeStyles, TextField } from \"@material-ui/core\";\nimport GridItem from '../../../../components/Grid/GridItem';\nimport PlanService from '../../../../Services/PlanService';\nimport EduYearService from '../../../../Services/EduYearService';\nimport ExamService from '../../../../Services/ExamService';\nimport { useTranslation } from '../../../../Utility/Translations/useTranslation';\nimport styles from 'assets/jss/nextjs-material-dashboard/views/dashboardStyle.js';\nimport { KeyboardDatePicker, TimePicker, MuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport DateFnsUtils from '@date-io/date-fns';\nimport { arSA } from \"date-fns/locale\";\nimport { toast } from 'react-toastify';\nimport './exams-list-style.css';\nimport { Card } from '@material-ui/core';\nimport SuiButton from '../../../../components/SuiButton';\n\nconst ExamsList = ({}) => {\n  const {\n    translate\n  } = useTranslation();\n  const useStyles = makeStyles(styles);\n  const classes = useStyles(); // Programs\n\n  const {\n    0: programs,\n    1: setPrograms\n  } = useState([]);\n  const {\n    0: program,\n    1: setProgram\n  } = useState(null); // Courses\n\n  const {\n    0: courses,\n    1: setCourses\n  } = useState([]);\n  const {\n    0: course,\n    1: setCourse\n  } = useState(null); // Edu Year\n\n  const {\n    0: eduYears,\n    1: setEduYears\n  } = useState([]);\n  const {\n    0: eduYear,\n    1: setEduYear\n  } = useState(null); // Exam Type\n\n  const {\n    0: examsTypes,\n    1: setExamsType\n  } = useState([]);\n  const {\n    0: examType,\n    1: setExamType\n  } = useState(null);\n  useEffect(() => {\n    PlanService.GetAll().then(programs => {\n      EduYearService.GetYears('').then(eduYears => {\n        setPrograms(programs.result);\n        setEduYears(eduYears.result);\n      }).catch(err => {\n        console.error(\"Error\", err);\n      });\n    }).catch(err => {\n      console.error(\"Error\", err);\n    });\n  }, []);\n\n  const changeProgram = val => {\n    setProgram(val);\n  };\n\n  const changeEduYear = val => {\n    setEduYear(val);\n    setLoadCourses(true);\n    ExamService.GetAllCourses(program, val.toString()).then(resp => {\n      console.log(resp.result);\n      setCourses(resp.result);\n    }).catch(error => {});\n    setLoadCourses(false);\n  };\n\n  const {\n    0: loadCourses,\n    1: setLoadCourses\n  } = useState(false);\n  const {\n    0: loadExamsType,\n    1: setLoadExamsType\n  } = useState(false);\n  const {\n    0: plans,\n    1: setPlans\n  } = useState([]); // Dynamic Halls\n\n  const {\n    0: inputFields,\n    1: setInputFields\n  } = useState([{\n    hall: 0,\n    planId: 0,\n    num_studs: 0\n  }]);\n\n  const addInputField = () => {\n    if (inputFields.length >= halls.length) toast.error(\"لايمكنك الإضافة! لايوجد سوى قاعتين\");else setInputFields([...inputFields, {\n      hall: 0,\n      planId: 0,\n      num_studs: 0\n    }]);\n  };\n\n  const removeInputFields = index => {\n    const rows = [...inputFields];\n    rows.splice(index, 1);\n    setInputFields(rows);\n  };\n\n  const handleChange = (index, evnt) => {\n    const {\n      name,\n      value\n    } = evnt.target;\n    const list = [...inputFields];\n    list[index][name] = value;\n    setInputFields(list);\n    console.log(list);\n  }; // ------------------------\n\n\n  const clear = () => {\n    setSelectedNewStds(0);\n    setSelectedOldStds(0);\n    setSelectedPlans([]);\n    setPlans([]);\n    setSelectedPlanData([]);\n    setInputFields([{\n      hall: 0,\n      num_studs: 0\n    }]);\n  };\n\n  const changeCourse = val => {\n    clear();\n    setCourse(val);\n    setLoadExamsType(true);\n\n    let _course = courses.find(e => e.id === val);\n\n    setExamsType(_course.evaluation_methods);\n    setLoadExamsType(false);\n  };\n\n  const changeExamType = val => {\n    clear();\n\n    let _course = courses.find(e => e.id == course);\n\n    setExamType(val);\n    ExamService.GetAllPlans(program, eduYear, _course.edu_course_id, val.toString()).then(resp => setPlans(resp.result)).catch(error => {});\n  }; // Halls\n  // const [halls, setHalls] = useState([]);\n  // handle add coursse to program\n\n\n  const {\n    0: selectedPlanData,\n    1: setSelectedPlanData\n  } = useState([]);\n  const {\n    0: selectedPlans,\n    1: setSelectedPlans\n  } = useState([]);\n  const {\n    0: selectedNewStds,\n    1: setSelectedNewStds\n  } = useState(0);\n  const {\n    0: selectedOldStds,\n    1: setSelectedOldStds\n  } = useState(0);\n  const {\n    0: selectedDate,\n    1: setSelectedDate\n  } = useState(new Date());\n  const {\n    0: startTime,\n    1: setStartTime\n  } = useState(new Date());\n  const {\n    0: endTime,\n    1: setEndTime\n  } = useState(new Date());\n  const _halls = [{\n    id: 1,\n    name: \"ق1\",\n    selected: false\n  }, {\n    id: 2,\n    name: \"ق2\",\n    selected: false\n  }];\n  const {\n    0: halls,\n    1: setHalls\n  } = useState(_halls);\n\n  const handleDateChange = e => {\n    setSelectedDate(e);\n  };\n\n  const handleStartTime = e => {\n    setStartTime(e);\n  };\n\n  const handleEndTime = e => {\n    setEndTime(e);\n    const startHour = startTime.getHours();\n    const startMinute = startTime.getMinutes();\n    const endHour = e.getHours();\n    const endMinute = e.getMinutes();\n    if (e < startTime) toast.error('وقت الانتهاء يجب أن يكون بعد وقت البدء');\n  };\n\n  const selectPlan = id => {\n    let valAsNum = parseInt(id);\n\n    let _arr = selectedPlans.slice();\n\n    if (_arr.includes(valAsNum)) {\n      let index = _arr.findIndex(e => e == valAsNum);\n\n      _arr.splice(index, 1);\n\n      setSelectedPlans(_arr);\n      let sel = _arr.length > 0 ? plans.map(e => {\n        if (_arr.includes(parseInt(e.id))) return e;\n      }) : [];\n      setSelectedPlanData(sel);\n\n      if (sel.length > 0) {\n        const sumOld = sel.reduce((partialSum, a) => partialSum + a.old_students_num, 0);\n        const sumNew = sel.reduce((partialSum, a) => partialSum + a.new_students_num, 0);\n        setSelectedNewStds(sumNew);\n        setSelectedOldStds(sumOld);\n      } else {\n        setSelectedNewStds(0);\n        setSelectedOldStds(0);\n      }\n    } else {\n      _arr.push(valAsNum);\n\n      setSelectedPlans(_arr);\n      let sel = _arr.length > 0 ? plans.map(e => {\n        if (_arr.includes(parseInt(e.id))) return e;\n      }) : [];\n      setSelectedPlanData(sel);\n      const sumOld = sel.reduce((partialSum, a) => partialSum + a.old_students_num, 0);\n      const sumNew = sel.reduce((partialSum, a) => partialSum + a.new_students_num, 0);\n      setSelectedNewStds(sumNew);\n      setSelectedOldStds(sumOld);\n    }\n  };\n\n  const handleAddExam = () => {\n    const payLoad = {\n      plan_ids: [...selected],\n      \"type\": \"مذاكرة\",\n      \"date\": \"25-5-2023\",\n      \"from\": \"09:30\",\n      \"to\": \"12:30\"\n    }; // PlanService.AddCourse(payLoad)\n    //   .then((result) => {\n    //     if (result.success) {\n    //       toast.success(translate(\"Course Added To Plan Successfully\"));\n    //       PlanService.GetProgramCourses(program, specYear, year)\n    //         .then((resp) => {\n    //           if (resp.success) {\n    //             setProgramCourses(resp.result);\n    //           }\n    //         })\n    //         .catch((err) => {});\n    //     }\n    //   })\n    //   .catch((error) => {\n    //     toast.error(error.message);\n    //   });\n  };\n\n  const renderPlans = plans => {\n    if (plans.length > 0) {\n      return /*#__PURE__*/_jsxDEV(MuiPickersUtilsProvider, {\n        locale: arSA,\n        utils: DateFnsUtils,\n        children: [/*#__PURE__*/_jsxDEV(Card, {\n          style: {\n            margin: \"5px 0px\",\n            width: \"100%\",\n            paddingRight: \"1em\",\n            paddingBottom: \"1em\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            md: 12,\n            style: {\n              height: \"7em\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(GridItem, {\n              md: 2,\n              children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                style: {\n                  fontWeight: 'bold'\n                },\n                children: \"\\u0627\\u0644\\u0633\\u0646\\u0629\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              md: 2,\n              children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                style: {\n                  fontWeight: 'bold'\n                },\n                children: \"\\u0627\\u0644\\u0627\\u062E\\u062A\\u0635\\u0627\\u0635\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              md: 2,\n              children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                style: {\n                  fontWeight: 'bold'\n                },\n                children: \"\\u0627\\u0644\\u0641\\u0635\\u0644\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              md: 2,\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                style: {\n                  fontWeight: 'bold',\n                  marginBottom: \"0\"\n                },\n                children: \"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0637\\u0644\\u0627\\u0628 \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                style: {\n                  fontWeight: 'bold',\n                  marginTop: \"0\"\n                },\n                children: \"\\u0645\\u0633\\u062A\\u062C\\u062F | \\u0645\\u0639\\u064A\\u062F \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            md: 12,\n            style: {\n              margin: \"2em 0em\"\n            },\n            children: plans.map(e => {\n              var _e$year, _e$year2, _e$year2$speciality;\n\n              return /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(GridItem, {\n                  md: 2,\n                  children: /*#__PURE__*/_jsxDEV(TextField, {\n                    variant: \"outlined\",\n                    size: \"small\",\n                    disabled: true,\n                    value: (_e$year = e.year) === null || _e$year === void 0 ? void 0 : _e$year.ar_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n                  md: 2,\n                  children: /*#__PURE__*/_jsxDEV(TextField, {\n                    variant: \"outlined\",\n                    size: \"small\",\n                    disabled: true,\n                    value: (_e$year2 = e.year) === null || _e$year2 === void 0 ? void 0 : (_e$year2$speciality = _e$year2.speciality) === null || _e$year2$speciality === void 0 ? void 0 : _e$year2$speciality.ar_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n                  md: 2,\n                  children: /*#__PURE__*/_jsxDEV(TextField, {\n                    variant: \"outlined\",\n                    size: \"small\",\n                    disabled: true,\n                    value: e.semester\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n                  md: 1,\n                  children: [e.new_students_num, \" | \", e.old_students_num]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n                  md: 2,\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: selectedPlans.includes(e.id),\n                    value: e.id,\n                    onChange: p => selectPlan(p.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            md: 12,\n            children: [/*#__PURE__*/_jsxDEV(GridItem, {\n              md: 1,\n              children: \"\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(KeyboardDatePicker, {\n                clearable: true,\n                value: selectedDate,\n                onChange: date => handleDateChange(date),\n                minDate: new Date(),\n                format: \"MM/dd/yyyy\" // inputVariant=\"outlined\"\n\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            md: 12,\n            style: {\n              marginTop: '3em'\n            },\n            children: [/*#__PURE__*/_jsxDEV(GridItem, {\n              style: {\n                display: \"flex\",\n                marginTop: \"1em\"\n              },\n              md: 1,\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \" \\u0627\\u0644\\u0648\\u0642\\u062A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              md: 2,\n              children: /*#__PURE__*/_jsxDEV(TimePicker, {\n                clearable: true,\n                label: \"\\u0645\\u0646\",\n                value: startTime,\n                onChange: handleStartTime\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              md: 2,\n              children: /*#__PURE__*/_jsxDEV(TimePicker, {\n                showTodayButton: true,\n                todayLabel: \"now\",\n                label: \"\\u0625\\u0644\\u0649\",\n                value: endTime,\n                minutesStep: 5,\n                onChange: handleEndTime\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n              md: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              md: 4,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                md: 5,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: \"0\"\n                  },\n                  children: \"\\u0627\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639 \\u0627\\u0644\\u0643\\u0644\\u064A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: \"0\"\n                  },\n                  children: \"\\u0645\\u0633\\u062A\\u062C\\u062F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: \"0\"\n                  },\n                  children: \"\\u0645\\u0639\\u064A\\u062F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                md: 3,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: \"0\"\n                  },\n                  children: `${selectedNewStds + selectedOldStds}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: \"0\"\n                  },\n                  children: selectedNewStds\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: \"0\"\n                  },\n                  children: selectedOldStds\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          md: 12,\n          style: {\n            marginTop: '1em'\n          },\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              margin: \"5px 0px\",\n              width: \"100%\",\n              paddingRight: \"1em\",\n              paddingBottom: \"1em\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                style: {\n                  margin: \"10px 5px\"\n                },\n                variant: \"contained\",\n                className: classes.submitBtn,\n                onClick: addInputField,\n                children: \"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0642\\u0627\\u0639\\u0629\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 25\n            }, this), inputFields.map((data, index) => {\n              console.log(data);\n              console.log(selectedPlanData);\n              return /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                md: 12,\n                style: {\n                  marginTop: '1em'\n                },\n                children: [/*#__PURE__*/_jsxDEV(GridItem, {\n                  md: 2,\n                  children: /*#__PURE__*/_jsxDEV(FormControl, {\n                    fullWidth: true,\n                    variant: \"filled\",\n                    size: \"small\",\n                    size: \"small\",\n                    children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                      id: \"demo-simple-select-label\",\n                      children: \"\\u0627\\u0644\\u0642\\u0627\\u0639\\u0629\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 364,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      fullWidth: true,\n                      labelId: \"demo-simple-select-label\",\n                      id: \"demo-simple-select\",\n                      value: data.hall,\n                      label: \"halls\",\n                      name: \"hall\",\n                      onChange: evnt => handleChange(index, evnt),\n                      children: halls.map(hall => !hall.selected && /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: hall.id,\n                        children: hall.name\n                      }, hall.id, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 375,\n                        columnNumber: 75\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 365,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 363,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n                  md: 2,\n                  children: /*#__PURE__*/_jsxDEV(FormControl, {\n                    fullWidth: true,\n                    variant: \"filled\",\n                    size: \"small\",\n                    size: \"small\",\n                    children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                      id: \"demo-simple-select-label\",\n                      children: \"\\u0627\\u0644\\u0633\\u0646\\u0629 \\u0648\\u0627\\u0644\\u0627\\u062E\\u062A\\u0635\\u0627\\u0635\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 384,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      fullWidth: true,\n                      labelId: \"demo-simple-select-label\",\n                      id: \"demo-simple-select\",\n                      value: data.planId,\n                      label: \"halls\",\n                      name: \"planId\",\n                      onChange: evnt => handleChange(index, evnt),\n                      children: selectedPlanData.map(data => {\n                        var _data$year, _data$year2, _data$year2$specialit;\n\n                        return /*#__PURE__*/_jsxDEV(MenuItem, {\n                          value: data.id,\n                          children: `${(_data$year = data.year) === null || _data$year === void 0 ? void 0 : _data$year.ar_name} - ${(_data$year2 = data.year) === null || _data$year2 === void 0 ? void 0 : (_data$year2$specialit = _data$year2.speciality) === null || _data$year2$specialit === void 0 ? void 0 : _data$year2$specialit.ar_name}`\n                        }, data.id, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 395,\n                          columnNumber: 57\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 385,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n                  md: 5,\n                  children: /*#__PURE__*/_jsxDEV(TextField, {\n                    onChange: evnt => handleChange(index, evnt),\n                    variant: \"outlined\",\n                    size: \"small\",\n                    type: \"number\",\n                    name: \"num_studs\",\n                    value: data.num_studs,\n                    label: translate(\"عدد الطلّاب\"),\n                    fullWidth: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 403,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n                  md: 3,\n                  children: inputFields.length !== 1 ? /*#__PURE__*/_jsxDEV(Button, {\n                    type: \"button\",\n                    style: {\n                      width: \"10%\",\n                      color: \"white\",\n                      background: \"red\"\n                    },\n                    variant: \"outlined\",\n                    className: classes.closeBtn,\n                    onClick: removeInputFields,\n                    children: \"x\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 416,\n                    columnNumber: 49\n                  }, this) : ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 37\n              }, this);\n            }), /*#__PURE__*/_jsxDEV(SuiButton, {\n              onClick: handleAddExam,\n              style: {\n                margin: \"2em 0\",\n                color: \"rgb(255, 255, 255)\",\n                background: \"rgb(23, 193, 232)\"\n              },\n              type: \"button\",\n              children: `إضافة واقعة امتحانية`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 20\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        md: 12,\n        style: {\n          margin: \"2em 0em\",\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          style: {\n            textAlign: 'center'\n          },\n          variant: \"h5\",\n          component: \"div\",\n          children: `لاتوجد بيانات لعرضها`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 20\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(GridContainer, {\n    md: 12,\n    children: [/*#__PURE__*/_jsxDEV(GridContainer, {\n      md: 12,\n      children: /*#__PURE__*/_jsxDEV(GridItem, {\n        style: {\n          margin: \"-1em 0 1em 0\"\n        },\n        md: 12,\n        className: classes.typography,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          component: \"div\",\n          children: `إضافة واقعة امتحانية`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      md: 12,\n      style: {\n        margin: \"2em 0em\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(GridItem, {\n        md: 2,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"filled\",\n          size: \"small\",\n          size: \"small\",\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            id: \"demo-simple-select-label\",\n            children: \"\\u0627\\u0644\\u0628\\u0631\\u0646\\u0627\\u0645\\u062C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            labelId: \"demo-simple-select-label\",\n            id: \"demo-simple-select\",\n            value: program,\n            label: \"programs\",\n            onChange: e => changeProgram(e.target.value),\n            children: programs === null || programs === void 0 ? void 0 : programs.map(program => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: program.id,\n              children: program.name\n            }, program.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n        md: 2,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"filled\",\n          size: \"small\",\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            id: \"demo-simple-select-label\",\n            children: \"\\u0627\\u0644\\u0633\\u0646\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            labelId: \"demo-simple-select-label\",\n            id: \"demo-simple-select\",\n            value: eduYear,\n            label: \"specYears\",\n            onChange: e => changeEduYear(e.target.value),\n            children: eduYears.map(spYear => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: spYear.id,\n              children: spYear.year\n            }, spYear.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n        md: 2,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"filled\",\n          size: \"small\",\n          size: \"small\",\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            id: \"demo-simple-select-label\",\n            children: \"\\u0627\\u0644\\u0645\\u0642\\u0631\\u0651\\u0631\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            disabled: loadCourses,\n            labelId: \"demo-simple-select-label\",\n            id: \"demo-simple-select\",\n            value: course,\n            label: \"courses\",\n            onChange: e => changeCourse(e.target.value),\n            children: courses.map(course => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: course.id,\n              children: course.ar_name\n            }, course.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n        md: 2,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"filled\",\n          size: \"small\",\n          size: \"small\",\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            id: \"demo-simple-select-label\",\n            children: \"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0648\\u0627\\u0642\\u0639\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            disabled: loadExamsType,\n            labelId: \"demo-simple-select-label\",\n            id: \"demo-simple-select\",\n            value: examType,\n            label: \"examTypes\",\n            onChange: e => changeExamType(e.target.value),\n            children: examsTypes.map(exam => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: exam.id,\n              children: exam.name\n            }, exam.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(GridItem, {\n        md: 2,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            margin: \"10px 5px\"\n          },\n          variant: \"contained\",\n          className: classes.submitBtn,\n          onClick: handleAddExam,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              padding: \"0px 0px 0px 10px\"\n            },\n            children: translate(\"Add\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 9\n    }, this), renderPlans(plans)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 458,\n    columnNumber: 12\n  }, this);\n};\n\nExamsList.auth = true;\nExamsList.layout = Admin;\nexport default ExamsList;","map":{"version":3,"sources":["F:/StudentAffairs/students/students/pages/students_affairs/admin/exams/exams-list.tsx"],"names":["React","useEffect","useState","Admin","GridContainer","Add","Button","FormControl","Grid","InputLabel","MenuItem","Select","Typography","makeStyles","TextField","GridItem","PlanService","EduYearService","ExamService","useTranslation","styles","KeyboardDatePicker","TimePicker","MuiPickersUtilsProvider","DateFnsUtils","arSA","toast","Card","SuiButton","ExamsList","translate","useStyles","classes","programs","setPrograms","program","setProgram","courses","setCourses","course","setCourse","eduYears","setEduYears","eduYear","setEduYear","examsTypes","setExamsType","examType","setExamType","GetAll","then","GetYears","result","catch","err","console","error","changeProgram","val","changeEduYear","setLoadCourses","GetAllCourses","toString","resp","log","loadCourses","loadExamsType","setLoadExamsType","plans","setPlans","inputFields","setInputFields","hall","planId","num_studs","addInputField","length","halls","removeInputFields","index","rows","splice","handleChange","evnt","name","value","target","list","clear","setSelectedNewStds","setSelectedOldStds","setSelectedPlans","setSelectedPlanData","changeCourse","_course","find","e","id","evaluation_methods","changeExamType","GetAllPlans","edu_course_id","selectedPlanData","selectedPlans","selectedNewStds","selectedOldStds","selectedDate","setSelectedDate","Date","startTime","setStartTime","endTime","setEndTime","_halls","selected","setHalls","handleDateChange","handleStartTime","handleEndTime","startHour","getHours","startMinute","getMinutes","endHour","endMinute","selectPlan","valAsNum","parseInt","_arr","slice","includes","findIndex","sel","map","sumOld","reduce","partialSum","a","old_students_num","sumNew","new_students_num","push","handleAddExam","payLoad","plan_ids","renderPlans","margin","width","paddingRight","paddingBottom","height","fontWeight","marginBottom","marginTop","year","ar_name","speciality","semester","p","date","display","submitBtn","data","color","background","closeBtn","justifyContent","textAlign","typography","spYear","exam","padding","auth","layout"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport Admin from 'layouts/Admin.js';\r\nimport GridContainer from '../../../../components/Grid/GridContainer';\r\nimport { Add, ArrowBack, Backspace, ZoomIn } from \"@material-ui/icons\";\r\nimport {\r\n    Button,\r\n    FormControl,\r\n    Grid,\r\n    InputLabel,\r\n    MenuItem,\r\n    Select,\r\n    Typography,\r\n    makeStyles,\r\n    Input,\r\n    TextField,\r\n} from \"@material-ui/core\";\r\nimport GridItem from '../../../../components/Grid/GridItem';\r\nimport PlanService from '../../../../Services/PlanService';\r\nimport CourseService from '../../../../Services/CourseService';\r\nimport EduYearService from '../../../../Services/EduYearService';\r\nimport ExamService from '../../../../Services/ExamService';\r\nimport { useTranslation } from '../../../../Utility/Translations/useTranslation';\r\nimport styles from 'assets/jss/nextjs-material-dashboard/views/dashboardStyle.js';\r\nimport { type } from '../../../../components/Privilege/Privilege';\r\nimport { KeyboardDatePicker, TimePicker, MuiPickersUtilsProvider } from \"@material-ui/pickers\";\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { arSA } from \"date-fns/locale\";\r\nimport { toast } from 'react-toastify';\r\nimport './exams-list-style.css';\r\nimport { Card } from '@material-ui/core';\r\nimport SuiButton from '../../../../components/SuiButton';\r\n\r\ninterface IExamsListProps { }\r\nconst ExamsList: React.FC<IExamsListProps> = ({ }) => {\r\n    const { translate } = useTranslation();\r\n    const useStyles = makeStyles(styles);\r\n    const classes = useStyles();\r\n\r\n\r\n    // Programs\r\n    const [programs, setPrograms] = useState([]);\r\n    const [program, setProgram] = useState(null);\r\n\r\n    // Courses\r\n    const [courses, setCourses] = useState([]);\r\n    const [course, setCourse] = useState(null);\r\n\r\n    // Edu Year\r\n    const [eduYears, setEduYears] = useState([]);\r\n    const [eduYear, setEduYear] = useState(null);\r\n\r\n    // Exam Type\r\n    const [examsTypes, setExamsType] = useState([]);\r\n    const [examType, setExamType] = useState(null);\r\n\r\n    useEffect(() => {\r\n        PlanService.GetAll()\r\n            .then((programs) => {\r\n                EduYearService.GetYears('')\r\n                    .then((eduYears) => {\r\n                        setPrograms(programs.result);\r\n                        setEduYears(eduYears.result);\r\n                    })\r\n                    .catch((err) => {\r\n                        console.error(\"Error\", err);\r\n                    })\r\n            })\r\n            .catch((err) => {\r\n                console.error(\"Error\", err);\r\n            });\r\n    }, []);\r\n\r\n    const changeProgram = (val: number) => {\r\n        setProgram(val);\r\n    };\r\n\r\n    const changeEduYear = (val: number) => {\r\n        setEduYear(val);\r\n        setLoadCourses(true);\r\n        ExamService.GetAllCourses(program, val.toString()).then(resp => {\r\n            console.log(resp.result)\r\n            setCourses(resp.result);\r\n        }).catch(error => {\r\n\r\n        })\r\n        setLoadCourses(false)\r\n    };\r\n\r\n\r\n\r\n    const [loadCourses, setLoadCourses] = useState(false);\r\n    const [loadExamsType, setLoadExamsType] = useState(false);\r\n\r\n    const [plans, setPlans] = useState([]);\r\n\r\n    // Dynamic Halls\r\n    const [inputFields, setInputFields] = useState([{\r\n        hall: 0,\r\n        planId: 0,\r\n        num_studs: 0\r\n    }]);\r\n    const addInputField = () => {\r\n        if (inputFields.length >= halls.length)\r\n            toast.error(\"لايمكنك الإضافة! لايوجد سوى قاعتين\");\r\n        else\r\n            setInputFields([...inputFields, {\r\n                hall: 0,\r\n                planId: 0,\r\n                num_studs: 0\r\n            }])\r\n    }\r\n    const removeInputFields = (index) => {\r\n        const rows = [...inputFields];\r\n        rows.splice(index, 1);\r\n        setInputFields(rows);\r\n    }\r\n    const handleChange = (index, evnt) => {\r\n        const { name, value } = evnt.target;\r\n        const list = [...inputFields];\r\n        list[index][name] = value;\r\n        setInputFields(list);\r\n        console.log(list);\r\n    }\r\n    // ------------------------\r\n    const clear = () => {\r\n        setSelectedNewStds(0);\r\n        setSelectedOldStds(0);\r\n        setSelectedPlans([]);\r\n        setPlans([]);\r\n        setSelectedPlanData([]);\r\n        setInputFields([{\r\n            hall: 0,\r\n            num_studs: 0\r\n        }])\r\n    }\r\n    const changeCourse = (val: number) => {\r\n        clear();\r\n        setCourse(val);\r\n        setLoadExamsType(true);\r\n        let _course = courses.find(e => e.id === val);\r\n        setExamsType(_course.evaluation_methods);\r\n        setLoadExamsType(false);\r\n    }\r\n    const changeExamType = (val: number) => {\r\n        clear();\r\n        let _course = courses.find(e => e.id == course);\r\n        setExamType(val);\r\n        ExamService.GetAllPlans(program, eduYear, _course.edu_course_id, val.toString())\r\n            .then(resp => setPlans(resp.result))\r\n            .catch(error => { })\r\n    }\r\n    // Halls\r\n    // const [halls, setHalls] = useState([]);\r\n    // handle add coursse to program\r\n\r\n    const [selectedPlanData, setSelectedPlanData] = useState([]);\r\n    const [selectedPlans, setSelectedPlans] = useState<number[]>([]);\r\n    const [selectedNewStds, setSelectedNewStds] = useState(0);\r\n    const [selectedOldStds, setSelectedOldStds] = useState(0);\r\n    const [selectedDate, setSelectedDate] = useState(new Date());\r\n    const [startTime, setStartTime] = useState(new Date());\r\n    const [endTime, setEndTime] = useState(new Date());\r\n    const _halls =\r\n        [\r\n            {\r\n                id: 1,\r\n                name: \"ق1\",\r\n                selected: false,\r\n            },\r\n            {\r\n                id: 2,\r\n                name: \"ق2\",\r\n                selected: false,\r\n            }\r\n        ]\r\n    const [halls, setHalls] = useState(_halls);\r\n    const handleDateChange = (e) => {\r\n        setSelectedDate(e);\r\n    }\r\n    const handleStartTime = (e) => {\r\n        setStartTime(e);\r\n    }\r\n    const handleEndTime = (e) => {\r\n        setEndTime(e);\r\n        const startHour = startTime.getHours();\r\n        const startMinute = startTime.getMinutes();\r\n        const endHour = e.getHours();\r\n        const endMinute = e.getMinutes();\r\n        if (e < startTime)\r\n            toast.error('وقت الانتهاء يجب أن يكون بعد وقت البدء');\r\n    }\r\n    const selectPlan = (id) => {\r\n        let valAsNum = parseInt(id);\r\n        let _arr = selectedPlans.slice();\r\n        if (_arr.includes(valAsNum)) {\r\n            let index = _arr.findIndex(e => e == valAsNum);\r\n            _arr.splice(index, 1);\r\n            setSelectedPlans(_arr);\r\n            let sel = _arr.length > 0 ? plans.map(e => {\r\n                if (_arr.includes(parseInt(e.id)))\r\n                    return e\r\n            }) : [];\r\n            setSelectedPlanData(sel);\r\n            if (sel.length > 0) {\r\n                const sumOld = sel.reduce((partialSum, a) => partialSum + a.old_students_num, 0);\r\n                const sumNew = sel.reduce((partialSum, a) => partialSum + a.new_students_num, 0);\r\n                setSelectedNewStds(sumNew);\r\n                setSelectedOldStds(sumOld);\r\n            }\r\n            else {\r\n                setSelectedNewStds(0);\r\n                setSelectedOldStds(0);\r\n            }\r\n\r\n        }\r\n        else {\r\n            _arr.push(valAsNum);\r\n            setSelectedPlans(_arr);\r\n            let sel = _arr.length > 0 ? plans.map(e => {\r\n                if (_arr.includes(parseInt(e.id)))\r\n                    return e\r\n            }) : [];\r\n            setSelectedPlanData(sel);\r\n            const sumOld = sel.reduce((partialSum, a) => partialSum + a.old_students_num, 0);\r\n            const sumNew = sel.reduce((partialSum, a) => partialSum + a.new_students_num, 0);\r\n            setSelectedNewStds(sumNew);\r\n            setSelectedOldStds(sumOld);\r\n        }\r\n    }\r\n\r\n    const handleAddExam = () => {\r\n        const payLoad = {\r\n            plan_ids: [...selected],\r\n            \"type\": \"مذاكرة\",\r\n            \"date\": \"25-5-2023\",\r\n            \"from\": \"09:30\",\r\n            \"to\": \"12:30\",\r\n        };\r\n        // PlanService.AddCourse(payLoad)\r\n        //   .then((result) => {\r\n        //     if (result.success) {\r\n        //       toast.success(translate(\"Course Added To Plan Successfully\"));\r\n        //       PlanService.GetProgramCourses(program, specYear, year)\r\n        //         .then((resp) => {\r\n        //           if (resp.success) {\r\n        //             setProgramCourses(resp.result);\r\n        //           }\r\n        //         })\r\n        //         .catch((err) => {});\r\n        //     }\r\n        //   })\r\n        //   .catch((error) => {\r\n        //     toast.error(error.message);\r\n        //   });\r\n    };\r\n    const renderPlans = (plans) => {\r\n        if (plans.length > 0) {\r\n            return <MuiPickersUtilsProvider locale={arSA} utils={DateFnsUtils}>\r\n                <Card style={{ margin: \"5px 0px\", width: \"100%\", paddingRight: \"1em\", paddingBottom: \"1em\" }}>\r\n                    <Grid container md={12} style={{ height: \"7em\" }}>\r\n                        <GridItem md={2}>\r\n                            <h5 style={{ fontWeight: 'bold' }}>السنة</h5>\r\n                        </GridItem>\r\n                        <GridItem md={2}>\r\n                            <h5 style={{ fontWeight: 'bold' }}>الاختصاص</h5>\r\n                        </GridItem>\r\n                        <GridItem md={2}>\r\n                            <h5 style={{ fontWeight: 'bold' }}>الفصل</h5>\r\n                        </GridItem>\r\n                        <GridItem md={2}>\r\n                            <h5 style={{ fontWeight: 'bold', marginBottom: \"0\" }}>عدد الطلاب </h5>\r\n                            <h5 style={{ fontWeight: 'bold', marginTop: \"0\" }}>مستجد | معيد </h5>\r\n                        </GridItem>\r\n                    </Grid>\r\n                    <Grid container md={12} style={{ margin: \"2em 0em\" }}>\r\n                        {\r\n                            plans.map(e => (<>\r\n                                <GridItem md={2}>\r\n                                    <TextField variant=\"outlined\" size=\"small\" disabled value={e.year ?.ar_name} />\r\n                                </GridItem>\r\n                                <GridItem md={2}>\r\n                                    <TextField variant=\"outlined\" size=\"small\" disabled value={e.year ?.speciality ?.ar_name} />\r\n                                </GridItem>\r\n                                <GridItem md={2}>\r\n                                    <TextField variant=\"outlined\" size=\"small\" disabled value={e.semester} />\r\n                                </GridItem>\r\n                                <GridItem md={1}>\r\n                                    {e.new_students_num} | {e.old_students_num}\r\n                                </GridItem>\r\n                                <GridItem md={2}>\r\n                                    <input type=\"checkbox\" checked={selectedPlans.includes(e.id)} value={e.id} onChange={p => selectPlan(p.target.value)} />\r\n                                </GridItem>\r\n                            </>))\r\n                        }\r\n                    </Grid>\r\n                    <Grid container md={12}>\r\n                        <GridItem md={1}>\r\n                            التاريخ\r\n                    </GridItem>\r\n                        <GridItem md={3}>\r\n                            <KeyboardDatePicker\r\n                                clearable\r\n                                value={selectedDate}\r\n                                onChange={date => handleDateChange(date)}\r\n                                minDate={new Date()}\r\n                                format=\"MM/dd/yyyy\"\r\n                            // inputVariant=\"outlined\"\r\n                            />\r\n                        </GridItem>\r\n                    </Grid>\r\n                    <Grid container md={12} style={{ marginTop: '3em' }}>\r\n                        <GridItem style={{ display: \"flex\", marginTop: \"1em\" }} md={1}>\r\n                            <span> الوقت</span>\r\n                        </GridItem>\r\n                        <GridItem md={2}>\r\n                            <TimePicker\r\n                                clearable\r\n                                label=\"من\"\r\n                                value={startTime}\r\n                                onChange={handleStartTime}\r\n                            />\r\n                        </GridItem>\r\n                        <GridItem md={2}>\r\n                            <TimePicker\r\n                                showTodayButton\r\n                                todayLabel=\"now\"\r\n                                label=\"إلى\"\r\n                                value={endTime}\r\n                                minutesStep={5}\r\n                                onChange={handleEndTime}\r\n                            />\r\n                        </GridItem>\r\n                        <GridItem md={1}></GridItem>\r\n                        <Grid container md={4}>\r\n                            <Grid item md={5}>\r\n                                <p style={{ margin: \"0\" }}>المجموع الكلي</p>\r\n                                <p style={{ margin: \"0\" }}>مستجد</p>\r\n                                <p style={{ margin: \"0\" }}>معيد</p>\r\n                            </Grid>\r\n                            <Grid item md={3}>\r\n                                <p style={{ margin: \"0\" }}>{`${selectedNewStds + selectedOldStds}`}</p>\r\n                                <p style={{ margin: \"0\" }}>{selectedNewStds}</p>\r\n                                <p style={{ margin: \"0\" }}>{selectedOldStds}</p>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Card>\r\n                <Grid container md={12} style={{ marginTop: '1em' }}>\r\n                    <Card style={{ margin: \"5px 0px\", width: \"100%\", paddingRight: \"1em\", paddingBottom: \"1em\" }}>\r\n                        <Grid container>\r\n                            <Button style={{ margin: \"10px 5px\" }}\r\n                                variant=\"contained\"\r\n                                className={classes.submitBtn}\r\n                                onClick={addInputField}>إضافة قاعة</Button>\r\n                        </Grid>\r\n                        {\r\n                            inputFields.map((data, index) => {\r\n                                console.log(data);\r\n                                console.log(selectedPlanData);\r\n                                return (\r\n                                    <Grid container md={12} style={{ marginTop: '1em' }}>\r\n                                        <GridItem md={2}>\r\n                                            <FormControl fullWidth variant=\"filled\" size=\"small\" size=\"small\">\r\n                                                <InputLabel id=\"demo-simple-select-label\">القاعة</InputLabel>\r\n                                                <Select\r\n                                                    fullWidth\r\n                                                    labelId=\"demo-simple-select-label\"\r\n                                                    id=\"demo-simple-select\"\r\n                                                    value={data.hall}\r\n                                                    label=\"halls\"\r\n                                                    name=\"hall\"\r\n                                                    onChange={(evnt) => handleChange(index, evnt)}\r\n                                                >\r\n                                                    {halls.map((hall) => (\r\n                                                        !hall.selected && <MenuItem key={hall.id} value={hall.id}>\r\n                                                            {hall.name}\r\n                                                        </MenuItem>\r\n                                                    ))}\r\n                                                </Select>\r\n                                            </FormControl>\r\n                                        </GridItem>\r\n                                        <GridItem md={2}>\r\n                                            <FormControl fullWidth variant=\"filled\" size=\"small\" size=\"small\">\r\n                                                <InputLabel id=\"demo-simple-select-label\">السنة والاختصاص</InputLabel>\r\n                                                <Select\r\n                                                    fullWidth\r\n                                                    labelId=\"demo-simple-select-label\"\r\n                                                    id=\"demo-simple-select\"\r\n                                                    value={data.planId}\r\n                                                    label=\"halls\"\r\n                                                    name=\"planId\"\r\n                                                    onChange={(evnt) => handleChange(index, evnt)}\r\n                                                >\r\n                                                    {selectedPlanData.map((data) => (\r\n                                                        <MenuItem key={data.id} value={data.id}>\r\n                                                            {`${data.year ?.ar_name} - ${data.year ?.speciality ?.ar_name}`}\r\n                                                        </MenuItem>\r\n                                                    ))}\r\n                                                </Select>\r\n                                            </FormControl>\r\n                                        </GridItem>\r\n                                        <GridItem md={5}>\r\n                                            <TextField\r\n                                                onChange={(evnt) => handleChange(index, evnt)}\r\n                                                variant=\"outlined\"\r\n                                                size=\"small\"\r\n                                                type=\"number\"\r\n                                                name=\"num_studs\"\r\n                                                value={data.num_studs}\r\n                                                label={translate(\"عدد الطلّاب\")}\r\n                                                fullWidth\r\n                                            />\r\n                                        </GridItem>\r\n                                        <GridItem md={3}>\r\n                                            {(inputFields.length !== 1) ?\r\n                                                <Button\r\n                                                    type=\"button\"\r\n                                                    style={{\r\n                                                        width: \"10%\",\r\n                                                        color: \"white\",\r\n                                                        background: \"red\"\r\n                                                    }}\r\n                                                    variant=\"outlined\"\r\n                                                    className={classes.closeBtn}\r\n                                                    onClick={removeInputFields}\r\n                                                >x</Button> : ''}\r\n                                        </GridItem>\r\n                                    </Grid>\r\n                                )\r\n                            })\r\n                        }\r\n                        <SuiButton\r\n                            onClick={handleAddExam}\r\n                            style={{\r\n                                margin: \"2em 0\",\r\n                                color: \"rgb(255, 255, 255)\",\r\n                                background: \"rgb(23, 193, 232)\",\r\n                            }}\r\n                            type=\"button\"\r\n                        >\r\n                            {`إضافة واقعة امتحانية`}\r\n                        </SuiButton>\r\n                    </Card>\r\n                </Grid>\r\n            </MuiPickersUtilsProvider >\r\n        }\r\n        else {\r\n            return <Grid container md={12} style={{\r\n                margin: \"2em 0em\", display: 'flex',\r\n                justifyContent: 'center'\r\n            }}>\r\n                <Typography style={{ textAlign: 'center' }} variant=\"h5\" component=\"div\">\r\n                    {`لاتوجد بيانات لعرضها`}\r\n                </Typography>\r\n            </Grid>\r\n        }\r\n    }\r\n    return <GridContainer md={12}>\r\n        <GridContainer md={12}>\r\n            <GridItem\r\n                style={{ margin: \"-1em 0 1em 0\" }}\r\n                md={12}\r\n                className={classes.typography}\r\n            >\r\n                <Typography variant=\"h5\" component=\"div\">\r\n                    {`إضافة واقعة امتحانية`}\r\n                </Typography>\r\n            </GridItem>\r\n        </GridContainer>\r\n        <Grid container md={12} style={{ margin: \"2em 0em\" }}>\r\n            <GridItem md={2}>\r\n                <FormControl fullWidth variant=\"filled\" size=\"small\" size=\"small\">\r\n                    <InputLabel id=\"demo-simple-select-label\">البرنامج</InputLabel>\r\n                    <Select\r\n                        labelId=\"demo-simple-select-label\"\r\n                        id=\"demo-simple-select\"\r\n                        value={program}\r\n                        label=\"programs\"\r\n                        onChange={(e) => changeProgram(e.target.value)}\r\n                    >\r\n                        {programs ?.map((program) => (\r\n                            <MenuItem key={program.id} value={program.id}>\r\n                                {program.name}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                </FormControl>\r\n            </GridItem>\r\n            <GridItem md={2}>\r\n                <FormControl fullWidth variant=\"filled\" size=\"small\">\r\n                    <InputLabel id=\"demo-simple-select-label\">السنة</InputLabel>\r\n                    <Select\r\n                        labelId=\"demo-simple-select-label\"\r\n                        id=\"demo-simple-select\"\r\n                        value={eduYear}\r\n                        label=\"specYears\"\r\n                        onChange={(e) => changeEduYear(e.target.value)}\r\n                    >\r\n                        {eduYears.map((spYear) => (\r\n                            <MenuItem key={spYear.id} value={spYear.id}>\r\n                                {spYear.year}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                </FormControl>\r\n            </GridItem>\r\n            <GridItem md={2}>\r\n                <FormControl fullWidth variant=\"filled\" size=\"small\" size=\"small\">\r\n                    <InputLabel id=\"demo-simple-select-label\">المقرّر</InputLabel>\r\n                    <Select\r\n                        disabled={loadCourses}\r\n                        labelId=\"demo-simple-select-label\"\r\n                        id=\"demo-simple-select\"\r\n                        value={course}\r\n                        label=\"courses\"\r\n                        onChange={(e) => changeCourse(e.target.value)}\r\n                    >\r\n                        {courses.map((course) => (\r\n                            <MenuItem key={course.id} value={course.id}>\r\n                                {course.ar_name}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                </FormControl>\r\n            </GridItem>\r\n            <GridItem md={2}>\r\n                <FormControl fullWidth variant=\"filled\" size=\"small\" size=\"small\">\r\n                    <InputLabel id=\"demo-simple-select-label\">نوع الواقعة</InputLabel>\r\n                    <Select\r\n                        disabled={loadExamsType}\r\n                        labelId=\"demo-simple-select-label\"\r\n                        id=\"demo-simple-select\"\r\n                        value={examType}\r\n                        label=\"examTypes\"\r\n                        onChange={(e) => changeExamType(e.target.value)}\r\n                    >\r\n                        {examsTypes.map((exam) => (\r\n                            <MenuItem key={exam.id} value={exam.id}>\r\n                                {exam.name}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                </FormControl>\r\n            </GridItem>\r\n            <GridItem md={2}>\r\n                <Button\r\n                    style={{ margin: \"10px 5px\" }}\r\n                    variant=\"contained\"\r\n                    className={classes.submitBtn}\r\n                    onClick={handleAddExam}\r\n                >\r\n                    <span style={{ padding: \"0px 0px 0px 10px\" }}>\r\n                        {translate(\"Add\")}\r\n                    </span>\r\n                    <Add />\r\n                </Button>\r\n            </GridItem>\r\n            {/* <GridItem md={2}>\r\n                <Button\r\n                    style={{ margin: \"10px 5px\" }}\r\n                    variant=\"contained\"\r\n                    className={classes.submitBtn}\r\n                    onClick={getProgramCourses}\r\n                >\r\n                    <span style={{ padding: \"0px 0px 0px 10px\" }}>\r\n                        {translate(\"Show Courses\")}\r\n                    </span>\r\n                    <ZoomIn />\r\n                </Button>\r\n            </GridItem> */}\r\n        </Grid>\r\n        {\r\n            renderPlans(plans)\r\n        }\r\n    </GridContainer>\r\n}\r\n\r\n(ExamsList as any).auth = true;\r\n(ExamsList as any).layout = Admin;\r\nexport default ExamsList;\r\n\r\n"]},"metadata":{},"sourceType":"module"}