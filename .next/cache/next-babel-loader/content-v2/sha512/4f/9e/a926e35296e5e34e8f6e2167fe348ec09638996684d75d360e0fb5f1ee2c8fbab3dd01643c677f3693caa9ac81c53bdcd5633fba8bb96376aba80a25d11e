{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect } from \"react\";\nimport { Button, AccordionDetails, Accordion, Typography, Dialog, DialogTitle, DialogActions, Box, IconButton } from \"@material-ui/core\";\nimport { Close, Description } from \"@material-ui/icons\";\nimport Admin from \"../../../../layouts/Admin\";\nimport styles from \"../../../../assets/jss/nextjs-material-dashboard/views/rtlStyle.js\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport GridContainer from \"../../../../components/Grid/GridContainer.js\";\nimport GridItem from \"../../../../components/Grid/GridItem.js\";\nimport { ExportToCsv } from \"export-to-csv\";\nimport ActionTable from \"../../../../components/MaterialTable/ActionTable\";\nimport Placeholder from \"../../../../Utility/Placeholders\";\nimport CandidateService from \"../../../../Services/CandidateService\";\nimport SearchAddCandidateModal from \"../../../../components/Modals/SearchAddCandidateModal\";\nimport * as Yup from \"yup\";\nimport { useRouter } from \"next/router\";\nimport { useTranslation } from \"../../../../Utility/Translations/useTranslation\";\nimport SuiButton from \"../../../../components/SuiButton\";\nimport { setCandidate, useAppDispatch } from \"../../../../redux\";\nimport AddTestResultsFileModal from \"../../../../components/Modals/AddTestResultsFileModal\";\nimport AddCandidateOutSideMinistryModal from \"../../../../components/Modals/AddCandidateOutSideMinistryModal\";\nimport _ from \"lodash\";\nimport { toast } from \"react-toastify\";\n\nvar CandidatesList = function CandidatesList(_ref) {\n  var _ref$forRegistrations = _ref.forRegistrations,\n      forRegistrations = _ref$forRegistrations === void 0 ? false : _ref$forRegistrations,\n      title = _ref.title,\n      customColumns = _ref.customColumns;\n  var router = useRouter();\n\n  var _useTranslation = useTranslation(),\n      translate = _useTranslation.translate;\n\n  var useStyles = makeStyles(styles);\n  var classes = useStyles();\n  var dispatch = useAppDispatch();\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      Candidates = _React$useState2[0],\n      setCandidates = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      loading = _React$useState4[0],\n      setLoading = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      open = _React$useState6[0],\n      setOpen = _React$useState6[1];\n\n  var _React$useState7 = React.useState(null),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      searchResult = _React$useState8[0],\n      setSearchResult = _React$useState8[1];\n\n  var _React$useState9 = React.useState([]),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      items = _React$useState10[0],\n      setItems = _React$useState10[1]; // Confirm Delete\n\n\n  var _React$useState11 = React.useState(false),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      confirmDelete = _React$useState12[0],\n      setConfirmDelete = _React$useState12[1];\n\n  var _React$useState13 = React.useState(null),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      deleteId = _React$useState14[0],\n      setDeleteId = _React$useState14[1];\n\n  var handleOpen = function handleOpen() {\n    setOpen(true);\n  };\n\n  var handleClose = function handleClose() {\n    setSearchResult(null);\n    setOpen(false);\n  };\n\n  var _React$useState15 = React.useState({\n    subscription_number: \"\",\n    year: \"\",\n    governorate: \"\",\n    round: \"\"\n  }),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      initAddCandidate = _React$useState16[0],\n      setInitAddCandidate = _React$useState16[1];\n\n  var AddCandidateScheme = Yup.object().shape({\n    subscription_number: Yup.string().required(translate(\"{0} is required\", \"Subscription number\")),\n    year: Yup.string().required(translate(\"{0} is required\", \"Year\")),\n    governorate: Yup.string().required(translate(\"{0} is required\", \"City\")),\n    round: Yup.string().required(translate(\"{0} is required\", \"Round\"))\n  });\n\n  var _React$useState17 = React.useState(false),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      openTestResults = _React$useState18[0],\n      setOpenTestResults = _React$useState18[1];\n\n  var handleOpenTestResults = function handleOpenTestResults() {\n    setOpenTestResults(true);\n  };\n\n  var handleCloseTestResults = function handleCloseTestResults() {\n    setOpenTestResults(false);\n  };\n\n  var _React$useState19 = React.useState(false),\n      _React$useState20 = _slicedToArray(_React$useState19, 2),\n      openOutsideCandidate = _React$useState20[0],\n      setOpenOutsideCandidate = _React$useState20[1];\n\n  var handleOpenOutsideCandidate = function handleOpenOutsideCandidate() {\n    setOpenOutsideCandidate(true);\n  };\n\n  var handleCloseOutsideCandidate = function handleCloseOutsideCandidate() {\n    setOpenOutsideCandidate(false);\n  };\n\n  var submitSearchCandidate = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values, setSubmitting) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setSubmitting(true);\n              CandidateService.Search(values).then(function (res) {\n                setSearchResult({\n                  found: Boolean(res.result),\n                  result: res.result\n                }); // setOpen(false);\n              }).catch(function (error) {\n                console.error(\"error\", error);\n              }).finally(function () {\n                setSubmitting(false);\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function submitSearchCandidate(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var submitAddCandidate = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(values, setSubmitting) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setSubmitting(true);\n              CandidateService.AddAfterSearch(_objectSpread(_objectSpread({}, values), {}, {\n                external: 0\n              })).then(function (res) {\n                var candidatesCopy = [res.result].concat(_toConsumableArray(Candidates));\n                setCandidates(candidatesCopy);\n                handleClose();\n                dispatch(setCandidate(res.result));\n                router.push(\"/\".concat(router.locale, \"/students_affairs/affairs_officer/candidates/candidate-details\"));\n              }).catch(function (error) {\n                console.error(\"error\", error);\n              }).finally(function () {\n                setSubmitting(false);\n              });\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function submitAddCandidate(_x3, _x4) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  /************************** Data ****************************/\n\n\n  var getCandidates = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return CandidateService.GetAll().then(function (res) {\n                var _res$result;\n\n                return forRegistrations ? (_res$result = res.result) === null || _res$result === void 0 ? void 0 : _res$result.filter(function (item) {\n                  var _item$registerations;\n\n                  return ((_item$registerations = item.registerations) === null || _item$registerations === void 0 ? void 0 : _item$registerations.length) > 0;\n                }) : res.result;\n              }).catch(function (error) {\n                console.error(\"error\", error);\n              });\n\n            case 2:\n              result = _context3.sent;\n              return _context3.abrupt(\"return\", result);\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function getCandidates() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    setLoading(true);\n    setItems([]);\n    getCandidates().then(function (res) {\n      setCandidates(res);\n      setLoading(false);\n    });\n  }, []);\n  /************************** Finish Data ****************************/\n\n  var columns = [{\n    title: translate(\"Id\"),\n    field: \"id\",\n    hidden: true,\n    filtering: false\n  }, {\n    title: translate(\"Name\"),\n    field: \"full_name\",\n    filtering: false\n  }, {\n    title: translate(\"Father\"),\n    field: \"father.first_name\",\n    hidden: true,\n    filtering: false\n  }, {\n    title: translate(\"Mother\"),\n    field: \"mother.first_name\",\n    hidden: true,\n    filtering: false\n  }, {\n    title: translate(\"Registeration number\"),\n    field: \"registeration_number\",\n    filtering: false,\n    type: \"string\"\n  }, {\n    title: translate(\"Subscription number\"),\n    field: \"certificates[0].subscription_number\",\n    filtering: false\n  }, {\n    title: translate(\"City\"),\n    field: \"certificates[0].city\",\n    filtering: false\n  }, {\n    title: translate(\"Round\"),\n    field: \"certificates[0].round\",\n    filtering: false\n  }, {\n    title: translate(\"Ministry External\"),\n    field: \"external_value\",\n    filtering: false\n  }, {\n    title: translate(\"Registration Year\"),\n    field: \"registeration_year_name\",\n    filtering: false\n  } // {\n  //     title: translate(\"Result\"),\n  //     field: \"certificates[0].result\",\n  // },\n  ]; // confirm\n\n  var ConfirmDialog = function ConfirmDialog(_ref5) {\n    var id = _ref5.id,\n        show = _ref5.show,\n        handleClose = _ref5.handleClose,\n        handleDeleteCandidate = _ref5.handleDeleteCandidate;\n    return /*#__PURE__*/_jsxs(Dialog, {\n      open: show,\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsx(DialogTitle, {\n        children: /*#__PURE__*/_jsx(Typography, {\n          children: \"\\u0647\\u0644 \\u062A\\u0631\\u064A\\u062F \\u062A\\u0623\\u0643\\u064A\\u062F \\u062D\\u0630\\u0641 \\u0627\\u0644\\u0645\\u0631\\u0634\\u0651\\u062D \".concat(name)\n        })\n      }), /*#__PURE__*/_jsx(Box, {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        children: /*#__PURE__*/_jsx(IconButton, {\n          onClick: handleClose,\n          children: /*#__PURE__*/_jsx(Close, {})\n        })\n      }), /*#__PURE__*/_jsxs(DialogActions, {\n        children: [/*#__PURE__*/_jsx(Button, {\n          onClick: handleClose,\n          color: \"secondary\",\n          variant: \"contained\",\n          children: translate(\"Cancel\")\n        }), /*#__PURE__*/_jsx(Button, {\n          onClick: function onClick() {\n            return handleDeleteCandidate(id);\n          },\n          color: \"primary\",\n          variant: \"contained\",\n          children: translate(\"Confirm\")\n        })]\n      })]\n    });\n  };\n\n  var _React$useState21 = React.useState(\"\"),\n      _React$useState22 = _slicedToArray(_React$useState21, 2),\n      name = _React$useState22[0],\n      setName = _React$useState22[1];\n\n  var handleConfirmDialog = function handleConfirmDialog(data) {\n    var _data$person, _data$person2;\n\n    console.clear();\n    console.log(data);\n    setDeleteId(data.id);\n    setName(\"\".concat(data === null || data === void 0 ? void 0 : (_data$person = data.person) === null || _data$person === void 0 ? void 0 : _data$person.first_name, \" \").concat(data === null || data === void 0 ? void 0 : (_data$person2 = data.person) === null || _data$person2 === void 0 ? void 0 : _data$person2.last_name));\n    setConfirmDelete(true);\n  };\n\n  var handleCloseConfirmDialog = function handleCloseConfirmDialog() {\n    setDeleteId(null);\n    setConfirmDelete(false);\n  };\n\n  var handleDeleteCandidate = function handleDeleteCandidate(id) {\n    setLoading(true);\n    setConfirmDelete(false);\n    CandidateService.delete(id).then(function (response) {\n      toast.success(\"تم حذف المرشّح بنجاح\");\n\n      var _data = Candidates.filter(function (item) {\n        return item.id != deleteId;\n      });\n\n      setCandidates(_data);\n      setLoading(false);\n    }).catch(function (error) {});\n  };\n\n  var renderCandidates = function renderCandidates() {\n    if (loading) return /*#__PURE__*/_jsx(Placeholder, {\n      loading: true\n    });\n\n    if (Candidates != null && Candidates.length > 0) {\n      var data = Candidates;\n      var options = {\n        exportAllData: true,\n        exportButton: true,\n        actionsColumnIndex: -1,\n        headerStyle: {\n          backgroundColor: \"#01579b\",\n          color: \"#FFF\",\n          fontWeight: \"bold\"\n        },\n        filtering: true,\n        paging: true,\n        pageSize: 10,\n        maxBodyHeight: \"500px\"\n      };\n      var btnLabel = !forRegistrations ? \"Candidate Details\" : \"Edit Registration\";\n      var btnPage = !forRegistrations ? \"candidate-details\" : \"edit-registration\";\n      var actions = [{\n        icon: function icon() {\n          return /*#__PURE__*/_jsx(SuiButton, {\n            style: {\n              minWidth: 140\n            },\n            color: \"primary\",\n            children: translate(btnLabel)\n          });\n        },\n        onClick: function onClick(evt, data) {\n          dispatch(setCandidate(data));\n          router.push(\"/\".concat(router.locale, \"/students_affairs/affairs_officer/candidates/\").concat(btnPage));\n        }\n      }, {\n        icon: function icon() {\n          return /*#__PURE__*/_jsx(SuiButton, {\n            style: {\n              minWidth: 140\n            },\n            color: \"error\",\n            children: \"\\u062D\\u0630\\u0641 \\u0645\\u0631\\u0634\\u062D\"\n          });\n        },\n        onClick: function onClick(evt, data) {\n          handleConfirmDialog(data);\n        }\n      }];\n      return /*#__PURE__*/_jsx(ActionTable, {\n        Title: title || translate(\"Candidates List\"),\n        Columns: customColumns || columns,\n        Data: data.map(function (item) {\n          var _item$person, _item$father, _item$person2;\n\n          return _objectSpread(_objectSpread({}, item), {}, {\n            registeration_year_name: item.registeration_year == new Date().getFullYear() ? \"الحالي\" : \"السابق\",\n            external_value: item.external ? translate(\"Yes\") : translate(\"No\"),\n            full_name: \"\".concat((_item$person = item.person) === null || _item$person === void 0 ? void 0 : _item$person.first_name, \" \").concat((_item$father = item.father) === null || _item$father === void 0 ? void 0 : _item$father.first_name, \" \").concat((_item$person2 = item.person) === null || _item$person2 === void 0 ? void 0 : _item$person2.last_name)\n          });\n        }),\n        Options: options,\n        Actions: actions\n      });\n    } else return /*#__PURE__*/_jsx(Placeholder, {});\n  }; // Dynamic Export\n\n\n  var _React$useState23 = React.useState(false),\n      _React$useState24 = _slicedToArray(_React$useState23, 2),\n      showExportColumns = _React$useState24[0],\n      setShowExportColumns = _React$useState24[1];\n\n  var _React$useState25 = React.useState([]),\n      _React$useState26 = _slicedToArray(_React$useState25, 2),\n      selectedColumns = _React$useState26[0],\n      setSelectedColumns = _React$useState26[1];\n\n  var _React$useState27 = React.useState([]),\n      _React$useState28 = _slicedToArray(_React$useState27, 2),\n      checked = _React$useState28[0],\n      setChecked = _React$useState28[1];\n\n  var handleExportData = function handleExportData() {\n    setShowExportColumns(!showExportColumns);\n  };\n\n  var csvOptions = {\n    fieldSeparator: \";\",\n    quoteStrings: '\"',\n    decimalSeparator: \".\",\n    showLabels: true,\n    useBom: true,\n    useKeysAsHeaders: false,\n    headers: selectedColumns.map(function (c) {\n      return c.title;\n    })\n  };\n  var csvExporter = new ExportToCsv(csvOptions);\n\n  var generateExcel = function generateExcel() {\n    csvExporter.generateCsv(Candidates.map(function (ct) {\n      var object = {};\n      selectedColumns.forEach(function (item, index) {\n        var _ct$person, _ct$father, _ct$person2, _$get;\n\n        if (item.field == \"full_name\") _.set(object, \"col \".concat(index), \"\".concat((_ct$person = ct.person) === null || _ct$person === void 0 ? void 0 : _ct$person.first_name, \" \").concat((_ct$father = ct.father) === null || _ct$father === void 0 ? void 0 : _ct$father.first_name, \" \").concat((_ct$person2 = ct.person) === null || _ct$person2 === void 0 ? void 0 : _ct$person2.last_name));else _.set(object, \"col \".concat(index), (_$get = _.get(ct, item.field)) !== null && _$get !== void 0 ? _$get : \"\");\n      });\n      console.log(object);\n      return object;\n    }));\n  };\n\n  var handleCheck = function handleCheck(event) {\n    var updatedList = _toConsumableArray(checked);\n\n    if (event.target.checked) {\n      updatedList = [].concat(_toConsumableArray(checked), [event.target.value]);\n    } else {\n      updatedList.splice(checked.indexOf(event.target.value), 1);\n    }\n\n    setChecked(updatedList);\n    setSelectedColumns(columns.filter(function (item) {\n      return updatedList.includes(item.field);\n    }));\n  };\n\n  var handleAllExportData = function handleAllExportData() {\n    var allColumns = [{\n      title: \"رقم التسجيل\",\n      field: \"registeration_number\",\n      hidden: true,\n      filtering: false\n    }, {\n      title: \"الاسم الثلاثي\",\n      field: \"full_name\",\n      filtering: false\n    }, {\n      title: \"رقم الاكتتاب\",\n      field: \"certificates[0].subscription_number\",\n      hidden: true,\n      filtering: false\n    }, {\n      title: \"المحافظة\",\n      field: \"certificates[0].city\",\n      filtering: false,\n      type: \"string\"\n    }, {\n      title: \"الدورة\",\n      field: \"certificates[0].round\",\n      filtering: false\n    }, {\n      title: \"2400\",\n      field: \"certificates[0].details[9].value\",\n      filtering: false\n    }, {\n      title: \"رياضيات\",\n      field: \"certificates[0].details[4].value\",\n      filtering: false\n    }, {\n      title: \"فيزياء\",\n      field: \"certificates[0].details[5].value\",\n      filtering: false\n    }, {\n      title: \"كيمياء\",\n      field: \"certificates[0].details[6].value\",\n      filtering: false\n    }, {\n      title: \"3600\",\n      field: \"registerations[0].mark_3600\",\n      filtering: false\n    }, {\n      title: \"الهاتف\",\n      field: \"person.phones[0].phone\",\n      filtering: false\n    }, {\n      title: \"مكان امتحان القبول\",\n      field: \"exam_place\",\n      filtering: false\n    }, {\n      title: \"امتحان قبول الرياضيات\",\n      field: \"registerations[0].math\",\n      filtering: false\n    }, {\n      title: \"امتحان قبول الفيزياء\",\n      field: \"registerations[0].physics\",\n      filtering: false\n    }, {\n      title: \"3400\",\n      field: \"registerations[0].mark_3400\",\n      filtering: false\n    }, {\n      title: \"حالة القبول\",\n      field: \"registerations[0].status\",\n      filtering: false\n    }, {\n      title: translate(\"Ministry External\"),\n      field: \"external\",\n      filtering: false\n    }, {\n      title: \"أولى\",\n      field: \"desires[0].speciality.ar_name\",\n      filtering: false\n    }, {\n      title: \"ثانية\",\n      field: \"desires[1].speciality.ar_name\",\n      filtering: false\n    }, {\n      title: \"ثالثة\",\n      field: \"desires[2].speciality.ar_name\",\n      filtering: false\n    }, {\n      title: \"رابعة\",\n      field: \"desires[3].speciality.ar_name\",\n      filtering: false\n    }, {\n      title: \"خامسة\",\n      field: \"desires[4].speciality.ar_name\",\n      filtering: false\n    }, {\n      title: \"سادسة\",\n      field: \"desires[5].speciality.ar_name\",\n      filtering: false\n    }, {\n      title: \"مثبتة\",\n      field: \"selected_desire?.speciality_name\",\n      filtering: false\n    }, {\n      title: translate(\"Registration Year\"),\n      field: \"registeration_year\",\n      filtering: false\n    }, {\n      title: \"فئة التسجيل\",\n      field: \"registeration_class\",\n      filtering: false\n    }, {\n      title: \"مكان الدراسة\",\n      field: \"study_place\",\n      filtering: false\n    }];\n    var localCsvOptions = {\n      fieldSeparator: \";\",\n      quoteStrings: '\"',\n      decimalSeparator: \".\",\n      showLabels: true,\n      useBom: true,\n      useKeysAsHeaders: false,\n      headers: allColumns.map(function (c) {\n        return c.title;\n      })\n    };\n    var localCsvExporter = new ExportToCsv(localCsvOptions);\n    setTimeout(function () {\n      localCsvExporter.generateCsv(Candidates.map(function (ct) {\n        var object = {};\n        allColumns.forEach(function (item, index) {\n          var _ct$person3, _ct$father2, _ct$person4, _$get2;\n\n          if (item.field == \"full_name\") _.set(object, \"col \".concat(index), \"\".concat((_ct$person3 = ct.person) === null || _ct$person3 === void 0 ? void 0 : _ct$person3.first_name, \" \").concat((_ct$father2 = ct.father) === null || _ct$father2 === void 0 ? void 0 : _ct$father2.first_name, \" \").concat((_ct$person4 = ct.person) === null || _ct$person4 === void 0 ? void 0 : _ct$person4.last_name));else if (item.field == \"registerations[0].mark_3600\") {\n            var _ct$certificates$, _ct$certificates$2, _ct$certificates$2$de, _ct$certificates$3, _ct$certificates$3$de, _ct$certificates$4, _ct$certificates$4$de;\n\n            var value = parseInt(ct === null || ct === void 0 ? void 0 : (_ct$certificates$ = ct.certificates[0]) === null || _ct$certificates$ === void 0 ? void 0 : _ct$certificates$.result) + parseInt((_ct$certificates$2 = ct.certificates[0]) === null || _ct$certificates$2 === void 0 ? void 0 : (_ct$certificates$2$de = _ct$certificates$2.details[4]) === null || _ct$certificates$2$de === void 0 ? void 0 : _ct$certificates$2$de.value) + parseInt((_ct$certificates$3 = ct.certificates[0]) === null || _ct$certificates$3 === void 0 ? void 0 : (_ct$certificates$3$de = _ct$certificates$3.details[5]) === null || _ct$certificates$3$de === void 0 ? void 0 : _ct$certificates$3$de.value) + parseInt((_ct$certificates$4 = ct.certificates[0]) === null || _ct$certificates$4 === void 0 ? void 0 : (_ct$certificates$4$de = _ct$certificates$4.details[6]) === null || _ct$certificates$4$de === void 0 ? void 0 : _ct$certificates$4$de.value);\n\n            _.set(object, \"col \".concat(index), \"\".concat(value));\n          } else if (item.field == \"registerations[0].mark_3400\") {\n            var _ct$registerations;\n\n            if ((ct === null || ct === void 0 ? void 0 : (_ct$registerations = ct.registerations) === null || _ct$registerations === void 0 ? void 0 : _ct$registerations.length) > 0) {\n              var _ct$certificates$5, _ct$registerations$, _ct$registerations$2;\n\n              var _value = parseInt(ct === null || ct === void 0 ? void 0 : (_ct$certificates$5 = ct.certificates[0]) === null || _ct$certificates$5 === void 0 ? void 0 : _ct$certificates$5.result) + parseInt(ct === null || ct === void 0 ? void 0 : (_ct$registerations$ = ct.registerations[0]) === null || _ct$registerations$ === void 0 ? void 0 : _ct$registerations$.math) + parseInt(ct === null || ct === void 0 ? void 0 : (_ct$registerations$2 = ct.registerations[0]) === null || _ct$registerations$2 === void 0 ? void 0 : _ct$registerations$2.physics);\n\n              _.set(object, \"col \".concat(index), \"\".concat(_value));\n            } else _.set(object, \"col \".concat(index), \"\");\n          } else if (item.field == \"external\") {\n            var _value2 = ct.external == 0 ? \"وزارة\" : \"خارج الوزارة\";\n\n            _.set(object, \"col \".concat(index), \"\".concat(_value2));\n          } else _.set(object, \"col \".concat(index), (_$get2 = _.get(ct, item.field)) !== null && _$get2 !== void 0 ? _$get2 : \"\");\n        });\n        return object;\n      }));\n    }, 2000);\n  };\n\n  return /*#__PURE__*/_jsxs(GridContainer, {\n    children: [/*#__PURE__*/_jsxs(GridItem, {\n      md: 12,\n      children: [/*#__PURE__*/_jsx(ConfirmDialog, {\n        id: deleteId,\n        show: confirmDelete,\n        handleClose: handleCloseConfirmDialog,\n        handleDeleteCandidate: handleDeleteCandidate\n      }, \"Confirm Delete Cadidate\"), !forRegistrations && /*#__PURE__*/_jsxs(React.Fragment, {\n        children: [/*#__PURE__*/_jsx(Button, {\n          style: {\n            marginLeft: 10\n          },\n          disabled: false,\n          variant: \"contained\",\n          className: classes.submitBtn,\n          onClick: handleOpen,\n          children: translate(\"Add New Candidate\")\n        }), /*#__PURE__*/_jsxs(Button, {\n          style: {\n            marginLeft: 10\n          },\n          disabled: false,\n          variant: \"contained\",\n          className: classes.submitBtn,\n          onClick: handleOpenOutsideCandidate,\n          children: [translate(\"Add Candidate\"), \" \", translate(\"out-side of ministry data\")]\n        }), /*#__PURE__*/_jsx(SuiButton, {\n          style: {\n            marginLeft: 10\n          },\n          disabled: false,\n          variant: \"gradient\",\n          onClick: handleOpenTestResults,\n          color: \"dark\",\n          children: translate(\"Add acceptance test results\")\n        }), /*#__PURE__*/_jsx(SuiButton, {\n          style: {\n            marginLeft: 10\n          },\n          disabled: false,\n          variant: \"gradient\",\n          onClick: handleExportData,\n          color: \"dark\",\n          children: translate(\"Export\")\n        })]\n      }), /*#__PURE__*/_jsx(SuiButton, {\n        style: {\n          marginLeft: 10\n        },\n        disabled: false,\n        variant: \"gradient\",\n        onClick: handleAllExportData,\n        color: \"dark\",\n        children: translate(\"تصدير كامل المعلومات\")\n      }), showExportColumns && /*#__PURE__*/_jsx(GridItem, {\n        style: {\n          marginBottom: \"1em\"\n        },\n        children: /*#__PURE__*/_jsx(Accordion, {\n          children: /*#__PURE__*/_jsx(AccordionDetails, {\n            children: /*#__PURE__*/_jsxs(GridItem, {\n              container: true,\n              children: [/*#__PURE__*/_jsx(GridItem, {\n                md: 12,\n                style: {\n                  display: \"flex\",\n                  justifyContent: \"center\"\n                },\n                children: /*#__PURE__*/_jsx(Typography, {\n                  style: {\n                    backgroundColor: \"lightgray\",\n                    boxShadow: \"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)\",\n                    padding: \"0em 1.2em\",\n                    margin: \"0em 0em .5em 0em\"\n                  },\n                  children: translate(\"Select Columns\")\n                })\n              }), /*#__PURE__*/_jsxs(GridItem, {\n                md: 12,\n                children: [/*#__PURE__*/_jsx(GridItem, {\n                  className: \"list-container\",\n                  style: {\n                    display: \"flex\",\n                    justifyContent: \"space-between\"\n                  },\n                  children: columns // .filter((item) => !item.hidden)\n                  .map(function (item, index) {\n                    return /*#__PURE__*/_jsxs(GridItem, {\n                      children: [/*#__PURE__*/_jsx(\"input\", {\n                        value: item.field,\n                        type: \"checkbox\",\n                        onChange: handleCheck\n                      }), /*#__PURE__*/_jsx(\"span\", {\n                        children: item.title\n                      })]\n                    }, index);\n                  })\n                }), /*#__PURE__*/_jsx(GridItem, {\n                  md: 12,\n                  style: {\n                    display: \"flex\",\n                    justifyContent: \"center\"\n                  },\n                  children: /*#__PURE__*/_jsxs(Button, {\n                    style: {\n                      margin: \"0px 5px\"\n                    },\n                    disabled: false,\n                    variant: \"contained\",\n                    className: classes.successText,\n                    onClick: generateExcel,\n                    children: [/*#__PURE__*/_jsx(\"span\", {\n                      style: {\n                        padding: \"0px 0px 0px 10px\"\n                      },\n                      children: translate(\"Export\")\n                    }), /*#__PURE__*/_jsx(Description, {})]\n                  })\n                })]\n              })]\n            })\n          })\n        })\n      }), renderCandidates()]\n    }), /*#__PURE__*/_jsx(SearchAddCandidateModal, {\n      searchResult: searchResult,\n      onAddClick: submitAddCandidate,\n      title: translate(\"Add Candidate\"),\n      open: open,\n      formScheme: AddCandidateScheme,\n      handleClose: handleClose,\n      initValues: initAddCandidate,\n      submitForm: submitSearchCandidate\n    }, \"addCandidate\"), /*#__PURE__*/_jsx(AddTestResultsFileModal, {\n      title: translate(\"Add acceptance test results\"),\n      open: openTestResults,\n      handleClose: handleCloseTestResults,\n      submitForm: function submitForm() {\n        return handleCloseTestResults();\n      }\n    }, \"addAcceptanceTestResults\"), /*#__PURE__*/_jsx(AddCandidateOutSideMinistryModal, {\n      // title={translate(\"Add acceptance test results\")}\n      open: openOutsideCandidate,\n      handleClose: handleCloseOutsideCandidate\n    }, \"addOutsideCandidate\")]\n  });\n};\n\nCandidatesList.auth = true;\nCandidatesList.layout = Admin;\nexport default CandidatesList;","map":null,"metadata":{},"sourceType":"module"}