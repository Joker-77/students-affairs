_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[31],{T1UL:function(e,t,a){"use strict";a.r(t);var n=a("nKUr"),i=a("o0o1"),r=a.n(i),l=a("KQm4"),o=a("HaE+"),s=a("ODXe"),c=a("hGi/"),d=a("q1tI"),u=a.n(d),b=a("Z3vd"),p=a("i6E2"),m=a("dCKf"),h=a("R/WZ"),j=a("mtPR"),f=a("i4t8"),x=a("drkM"),v=a("2j+g"),_=a("1OyB"),O=a("vuIU"),g=a("B6G6"),y=function(){function e(){Object(_.a)(this,e)}return Object(O.a)(e,null,[{key:"GetAll",value:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/candidate",e.next=3,g.a.get("/candidate").then((function(e){if(console.log(e),e.data.success){var t=e.data;return console.log(t),t}})).catch((function(e){throw console.log("Api Error:",e),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"Add",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/candidate/add",e.next=3,g.a.post("/candidate/add",t).then((function(e){var t;if(console.log("res",e),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.success)return null===e||void 0===e?void 0:e.data})).catch((function(e){throw e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"Edit",value:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/candidate/edit",e.next=3,g.a.get("/candidate/edit").then((function(e){if(e.data.success)return e.data})).catch((function(e){throw console.log("Api Error:",e),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"Get",value:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/candidate/details",e.next=3,g.a.get("/candidate/details").then((function(e){if(e.data.success)return e.data})).catch((function(e){throw console.log("Api Error:",e),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),q=a("KYPV"),C=a("Xt1q"),B=a("hlFM"),w=a("tRbT"),k=a("PsDL"),T=a("ofer"),A=a("r9w1"),S=a("n0zQ"),z=a("A2So"),N=a("2zww"),W=a("UsYt"),F=a("8uep"),P=a("jjAL"),E=function(e){var t,a,i,r,l,o,s,c,d,u,b,p,m,h,j,f,x,v,_,O,g,y,C,k,S,z,N,W,E=e.title,L=e.formik,G=e.disabled,R=e.isGray,D=e.prefix,I={bgcolor:R?"#d3d3d326":"background.paper",padding:"15px",boxShadow:24,borderRadius:"20px",marginVertically:"15px"},Q=[{id:"private",value:"Private"},{id:"family",value:"Family"}],M=L.values,U=L.handleChange,V=L.errors,X=L.touched,K=L.handleBlur;return Object(n.jsxs)(B.a,{sx:I,mb:2,children:[!!E&&Object(n.jsx)(B.a,{mb:2,children:Object(n.jsx)(T.a,{component:"label",variant:"caption",children:Object(n.jsx)("b",{children:E})})}),Object(n.jsxs)(w.a,{container:!0,spacing:2,children:[Object(n.jsx)(w.a,{item:!0,md:3,children:Object(n.jsxs)(B.a,{mb:2,children:[Object(n.jsx)(B.a,{mb:1,ml:.5,children:Object(n.jsx)(T.a,{component:"label",variant:"caption",children:"First Name"})}),Object(n.jsx)(A.a,{disabled:G,onChange:U,variant:"outlined",size:"small",type:"text",id:"".concat(D,".first_name"),name:"".concat(D,".first_name"),value:M[D].first_name,onBlur:K,error:Boolean((null===(t=X[D])||void 0===t?void 0:t.first_name)&&(null===(a=V[D])||void 0===a?void 0:a.first_name)),helperText:(null===(i=X[D])||void 0===i?void 0:i.first_name)&&(null===(r=V[D])||void 0===r?void 0:r.first_name),placeholder:"First name",fullWidth:!0})]})}),Object(n.jsx)(w.a,{item:!0,md:3,children:Object(n.jsxs)(B.a,{mb:2,children:[Object(n.jsx)(B.a,{mb:1,ml:.5,children:Object(n.jsx)(T.a,{component:"label",variant:"caption",children:"Last Name"})}),Object(n.jsx)(A.a,{disabled:G,onChange:U,variant:"outlined",size:"small",type:"text",id:"".concat(D,".last_name"),name:"".concat(D,".last_name"),value:M[D].last_name,onBlur:K,error:Boolean((null===(l=X[D])||void 0===l?void 0:l.last_name)&&(null===(o=V[D])||void 0===o?void 0:o.last_name)),helperText:(null===(s=X[D])||void 0===s?void 0:s.last_name)&&(null===(c=V[D])||void 0===c?void 0:c.last_name),placeholder:"Last name",fullWidth:!0})]})}),Object(n.jsx)(w.a,{item:!0,md:3,children:Object(n.jsxs)(B.a,{mb:2,children:[Object(n.jsx)(B.a,{mb:1,ml:.5,children:Object(n.jsx)(T.a,{component:"label",variant:"caption",children:"Gender"})}),Object(n.jsx)(A.a,{disabled:G,variant:"outlined",size:"small",type:"select",id:"".concat(D,".sex"),name:"".concat(D,".sex"),select:!0,value:M[D].sex,onChange:U("".concat(D,".sex")),onBlur:K,placeholder:"Gender",fullWidth:!0,children:[{id:"male",value:"Male"},{id:"female",value:"Female"}].map((function(e){return Object(n.jsx)(P.a,{value:e.id,children:e.value},e.id)}))})]})}),Object(n.jsx)(w.a,{item:!0,md:3,children:Object(n.jsxs)(B.a,{mb:2,children:[Object(n.jsx)(B.a,{mb:1,ml:.5,children:Object(n.jsx)(T.a,{component:"label",variant:"caption",children:"Nationality"})}),Object(n.jsx)(A.a,{disabled:G,onChange:U,variant:"outlined",size:"small",type:"text",id:"".concat(D,".nationality"),name:"".concat(D,".nationality"),value:M[D].nationality,onBlur:K,error:Boolean((null===(d=X[D])||void 0===d?void 0:d.nationality)&&(null===(u=V[D])||void 0===u?void 0:u.nationality)),helperText:(null===(b=X[D])||void 0===b?void 0:b.nationality)&&(null===(p=V[D])||void 0===p?void 0:p.nationality),placeholder:"nationality",fullWidth:!0})]})}),Object(n.jsx)(w.a,{item:!0,md:3,children:Object(n.jsxs)(B.a,{mb:2,children:[Object(n.jsx)(B.a,{mb:1,ml:.5,children:Object(n.jsx)(T.a,{component:"label",variant:"caption",children:"National number"})}),Object(n.jsx)(A.a,{disabled:G,onChange:U,variant:"outlined",size:"small",type:"text",id:"".concat(D,".national_number"),name:"".concat(D,".national_number"),value:M[D].national_number,onBlur:K,error:Boolean((null===(m=X[D])||void 0===m?void 0:m.national_number)&&(null===(h=V[D])||void 0===h?void 0:h.national_number)),helperText:(null===(j=X[D])||void 0===j?void 0:j.national_number)&&(null===(f=V[D])||void 0===f?void 0:f.national_number),placeholder:"National number",fullWidth:!0})]})}),Object(n.jsx)(w.a,{item:!0,md:3,children:Object(n.jsxs)(B.a,{mb:2,children:[Object(n.jsx)(B.a,{mb:1,ml:.5,children:Object(n.jsx)(T.a,{component:"label",variant:"caption",children:"Passport First Name"})}),Object(n.jsx)(A.a,{disabled:G,onChange:U,variant:"outlined",size:"small",type:"text",id:"".concat(D,".passport_first_name"),name:"".concat(D,".passport_first_name"),value:M[D].passport_first_name,onBlur:K,error:Boolean((null===(x=X[D])||void 0===x?void 0:x.passport_first_name)&&(null===(v=V[D])||void 0===v?void 0:v.passport_first_name)),helperText:(null===(_=X[D])||void 0===_?void 0:_.passport_first_name)&&(null===(O=V[D])||void 0===O?void 0:O.passport_first_name),placeholder:"Passport First Name",fullWidth:!0})]})}),Object(n.jsx)(w.a,{item:!0,md:3,children:Object(n.jsxs)(B.a,{mb:2,children:[Object(n.jsx)(B.a,{mb:1,ml:.5,children:Object(n.jsx)(T.a,{component:"label",variant:"caption",children:"Passport Last Name"})}),Object(n.jsx)(A.a,{disabled:G,onChange:U,variant:"outlined",size:"small",type:"text",id:"".concat(D,".passport_last_name"),name:"".concat(D,".passport_last_name"),value:M[D].passport_last_name,onBlur:K,error:Boolean((null===(g=X[D])||void 0===g?void 0:g.passport_last_name)&&(null===(y=V[D])||void 0===y?void 0:y.passport_last_name)),helperText:(null===(C=X[D])||void 0===C?void 0:C.passport_last_name)&&(null===(k=V[D])||void 0===k?void 0:k.passport_last_name),placeholder:"Passport Last Name",fullWidth:!0})]})}),Object(n.jsx)(w.a,{item:!0,md:3,children:Object(n.jsxs)(B.a,{mb:2,children:[Object(n.jsx)(B.a,{mb:1,ml:.5,children:Object(n.jsx)(T.a,{component:"label",variant:"caption",children:"Passport Number"})}),Object(n.jsx)(A.a,{disabled:G,onChange:U,variant:"outlined",size:"small",type:"text",id:"".concat(D,".passport_number"),name:"".concat(D,".passport_number"),value:M[D].passport_number,onBlur:K,error:Boolean((null===(S=X[D])||void 0===S?void 0:S.passport_number)&&(null===(z=V[D])||void 0===z?void 0:z.passport_number)),helperText:(null===(N=X[D])||void 0===N?void 0:N.passport_number)&&(null===(W=V[D])||void 0===W?void 0:W.passport_number),placeholder:"Passport number",fullWidth:!0})]})})]}),Object(n.jsxs)(B.a,{mb:2,children:[Object(n.jsx)(B.a,{mb:1,ml:.5,children:Object(n.jsx)(T.a,{component:"label",variant:"caption",children:"Phones"})}),Object(n.jsx)(q.a,{name:"".concat(D,".phones"),render:function(e){return Object(n.jsx)("div",{children:M[D].phones&&M[D].phones.length>0?M[D].phones.map((function(t,a){var i,r,l,o;return Object(n.jsx)("div",{children:Object(n.jsxs)(w.a,{container:!0,spacing:2,children:[Object(n.jsx)(w.a,{item:!0,xs:4,children:Object(n.jsx)(A.a,{disabled:G,onChange:U("".concat(D,".phones.").concat(a,".phone")),variant:"outlined",size:"small",type:"text",id:"".concat(D,".phones.").concat(a,".phone"),name:"".concat(D,".phones.").concat(a,".phone"),value:t.phone,onBlur:K,error:Boolean((null===(i=X[D])||void 0===i?void 0:i.phones)&&(null===(r=V[D])||void 0===r?void 0:r.phones)),helperText:(null===(l=X[D])||void 0===l?void 0:l.phones)&&(null===(o=V[D])||void 0===o?void 0:o.phones),placeholder:"phone"})}),Object(n.jsx)(w.a,{item:!0,xs:4,children:Object(n.jsx)(A.a,{disabled:G,variant:"outlined",size:"small",type:"select",id:"".concat(D,".phones.").concat(a,".type"),name:"".concat(D,".phones.").concat(a,".type"),select:!0,onChange:U("".concat(D,".phones.").concat(a,".type")),onBlur:K,placeholder:"Phone type",fullWidth:!0,children:Q.map((function(e){return Object(n.jsx)(P.a,{value:e.id,children:e.value},e.id)}))})}),Object(n.jsxs)(w.a,{item:!0,xs:4,children:[Object(n.jsx)(F.a,{style:{margin:5},color:"error",onClick:function(){return e.remove(a)},children:"-"}),Object(n.jsx)(F.a,{style:{margin:5},color:"success",onClick:function(){return e.insert(a+1,{phone:"",type:""})},children:"+"})]})]})},a)})):Object(n.jsx)(F.a,{variant:"gradient",color:"success",onClick:function(){return e.push("")},children:"Add a phone"})})}})]})]})},L=function(e){var t=e.disabled,a=e.title,i=e.open,r=e.initValues,l=e.submitForm,o=e.formScheme,s=e.handleClose,c={modal:{overflowY:"scroll",overflowX:"hidden",height:"95%"},header:{height:"5em",position:"sticky",borderTopRightRadius:"inherit",borderTopLeftRadius:"inherit",backgroundColor:"#A69577"}};return Object(n.jsx)(C.a,{open:i,onClose:s,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(n.jsx)(B.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",bgcolor:"background.paper",boxShadow:24,borderRadius:"20px"},style:c.modal,children:Object(n.jsxs)(z.a,{style:{position:"absolute",bgcolor:"background.paper",boxShadow:24,borderRadius:"20px",marginTop:"0px",marginBottom:"0px"},children:[Object(n.jsx)(N.a,{style:c.header,children:Object(n.jsxs)(w.a,{container:!0,children:[Object(n.jsx)(w.a,{md:8,children:Object(n.jsxs)("h4",{style:{fontWeight:"bold"},children:[a," "]})}),Object(n.jsx)(w.a,{md:4,children:Object(n.jsx)(k.a,{style:{position:"absolute",right:"2em",top:"1em"},onClick:s,children:Object(n.jsx)(S.a,{})})})]})}),Object(n.jsx)(W.a,{children:Object(n.jsx)(q.c,{initialValues:r,validationSchema:o,onSubmit:function(e,t){var a=t.setSubmitting;l(e,a)},children:function(e){var a=e.values,i=e.handleChange,r=(e.handleSubmit,e.errors),l=e.touched,o=e.handleBlur,s=e.isSubmitting;e.isValid,e.dirty;return Object(n.jsxs)(q.b,{children:[Object(n.jsx)(E,{prefix:"person",formik:e,disabled:t}),Object(n.jsxs)(B.a,{mb:2,children:[Object(n.jsx)(B.a,{mb:1,ml:.5,children:Object(n.jsx)(T.a,{component:"label",variant:"caption",children:"Registeration number"})}),Object(n.jsx)(A.a,{disabled:t,onChange:i,variant:"outlined",size:"small",type:"text",id:"registeration_number",name:"registeration_number",value:a.registeration_number,onBlur:o,error:Boolean(l.registeration_number&&r.registeration_number),helperText:l.registeration_number&&r.registeration_number,placeholder:"Registeration number",fullWidth:!0})]}),Object(n.jsxs)(B.a,{mb:2,children:[Object(n.jsx)(B.a,{mb:1,ml:.5,children:Object(n.jsx)(T.a,{component:"label",variant:"caption",children:"Birth date"})}),Object(n.jsx)(A.a,{disabled:t,onChange:i,variant:"outlined",size:"small",type:"date",id:"birth_date",name:"birth_date",value:a.birth_date,onBlur:o,error:Boolean(l.birth_date&&r.birth_date),helperText:l.birth_date&&r.birth_date,placeholder:"Birth date",fullWidth:!0})]}),Object(n.jsxs)(B.a,{mb:2,children:[Object(n.jsx)(B.a,{mb:1,ml:.5,children:Object(n.jsx)(T.a,{component:"label",variant:"caption",children:"Birth place"})}),Object(n.jsx)(A.a,{disabled:t,onChange:i,variant:"outlined",size:"small",type:"text",id:"birth_place",name:"birth_place",value:a.birth_place,onBlur:o,error:Boolean(l.birth_place&&r.birth_place),helperText:l.birth_place&&r.birth_place,placeholder:"Birth place",fullWidth:!0})]}),Object(n.jsxs)(B.a,{mb:2,children:[Object(n.jsx)(B.a,{mb:1,ml:.5,children:Object(n.jsx)(T.a,{component:"label",variant:"caption",children:"AQID place"})}),Object(n.jsx)(A.a,{disabled:t,onChange:i,variant:"outlined",size:"small",type:"text",id:"qaid_place",name:"qaid_place",value:a.qaid_place,onBlur:o,error:Boolean(l.qaid_place&&r.qaid_place),helperText:l.qaid_place&&r.qaid_place,placeholder:"AQID place",fullWidth:!0})]}),Object(n.jsxs)(B.a,{mb:2,children:[Object(n.jsx)(B.a,{mb:1,ml:.5,children:Object(n.jsx)(T.a,{component:"label",variant:"caption",children:"QAID number"})}),Object(n.jsx)(A.a,{disabled:t,onChange:i,variant:"outlined",size:"small",type:"text",id:"qaid_number",name:"qaid_number",value:a.qaid_number,onBlur:o,error:Boolean(l.qaid_number&&r.qaid_number),helperText:l.qaid_number&&r.qaid_number,placeholder:"QAID number",fullWidth:!0})]}),Object(n.jsxs)(B.a,{mb:2,children:[Object(n.jsx)(B.a,{mb:1,ml:.5,children:Object(n.jsx)(T.a,{component:"label",variant:"caption",children:"Military office"})}),Object(n.jsx)(A.a,{disabled:t,onChange:i,variant:"outlined",size:"small",type:"text",id:"military_office",name:"military_office",value:a.military_office,onBlur:o,error:Boolean(l.military_office&&r.military_office),helperText:l.military_office&&r.military_office,placeholder:"Military office",fullWidth:!0})]}),Object(n.jsx)(E,{prefix:"father",title:"Father",formik:e,disabled:t,isGray:!0}),Object(n.jsx)(E,{prefix:"mother",title:"Mother",formik:e,disabled:t,isGray:!0}),Object(n.jsx)(B.a,{mt:4,mb:1,children:s?Object(n.jsx)(F.a,{disabled:!0,variant:"gradient",color:"info",fullWidth:!0,children:"Processing"}):Object(n.jsx)(F.a,{type:"submit",variant:"gradient",color:"info",fullWidth:!0,children:"Save"})})]})}})})]})})})},G=a("UGp+"),R=function(e){Object(c.a)(e);var t=Object(h.a)(m.a)(),a=u.a.useState(!1),i=Object(s.a)(a,2),p=i[0],_=i[1],O=u.a.useState(0),g=Object(s.a)(O,2),q=(g[0],g[1],u.a.useState({id:0,registeration_number:"",birth_date:"",birth_place:"",qaid_place:"",qaid_number:"",military_office:"",person:{id:0,first_name:"",last_name:"",passport_first_name:"",passport_last_name:"",passport_number:"",national_number:"",sex:"",nationality:"",phones:[]},father:{id:0,first_name:"",last_name:"",passport_first_name:"",passport_last_name:"",passport_number:"",national_number:"",sex:"",nationality:"",phones:[]},mother:{id:0,first_name:"",last_name:"",passport_first_name:"",passport_last_name:"",passport_number:"",national_number:"",sex:"",nationality:"",phones:[]}})),C=Object(s.a)(q,2),B=C[0],w=(C[1],G.b().shape({first_name:G.c().required("First name is required"),last_name:G.c().required("Last name is required"),passport_first_name:G.c().required("Passport first name is required"),passport_last_name:G.c().required("Passport Last name is required"),passport_number:G.c().required("Passport number is required"),national_number:G.c().required("National number is required"),sex:G.c().required("Gender is required"),nationality:G.c().required("Nationality is required")})),k=G.b().shape({registeration_number:G.c().required("Registeration number is required"),birth_date:G.c().required("Birth date is required"),birth_place:G.c().required("Birth place is required"),qaid_place:G.c().required("QAID place is required"),qaid_number:G.c().required("QAID number is required"),military_office:G.c().required("Military office is required"),father:w,mother:w,person:w}),T=G.b().shape({}),A=function(){var e=Object(o.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("to submit: ",t),y.Add(t).then((function(e){console.log("New Candidate",e);var t=[e.result].concat(Object(l.a)(K));Z(t),_(!1)})).catch((function(e){console.error("error",e)})),a(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){y.GetAll().then((function(e){console.log("Candidates",e),Z(e.result)})).catch((function(e){console.error("error",e)}))}),[]);var S=u.a.useState(!1),z=Object(s.a)(S,2),N=z[0],W=z[1],F=u.a.useState({}),P=Object(s.a)(F,2),E=P[0],R=P[1],D=function(){var e=Object(o.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("values",t),a(!1);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),I=u.a.useState(!1),Q=Object(s.a)(I,2),M=Q[0],U=Q[1],V=u.a.useState(null),X=Object(s.a)(V,2),K=X[0],Z=X[1];return Object(n.jsxs)(j.a,{children:[Object(n.jsxs)(f.a,{md:12,children:[Object(n.jsx)(b.a,{disabled:!1,variant:"contained",className:t.submitBtn,onClick:function(){_(!0)},children:"Add New Candidate"}),function(){if(null!=K&&K.length>0){var e=K;return Object(n.jsx)(x.a,{Title:"Candidates List",Columns:[{title:"Id",field:"id",hidden:!0},{title:"First name",field:"person.first_name"},{title:"Last name",field:"person.last_name"},{title:"Registeration number",field:"registeration_number"},{title:"Birth place",field:"birth_place"},{title:"QAID place",field:"qaid_place"},{title:"QAID number",field:"qaid_number"}],Data:e,Options:{headerStyle:{backgroundColor:"#01579b",color:"#FFF",fontWeight:"bold"},filtering:!1,paging:!0,pageSize:10,maxBodyHeight:"500px"},Actions:[{tooltip:"Candidate Details",icon:"details",onClick:function(e,t){return t.id,U(!0),void W(!0)}},{tooltip:"Edit Candidate",icon:"edit",onClick:function(e,t){return function(e){console.log("data",e),R({}),W(!0)}(t)}}]})}return Object(n.jsx)(v.a,{})}()]}),Object(n.jsx)(L,{disabled:M,title:"Add Candidate",open:p,formScheme:k,handleClose:function(){_(!1)},initValues:B,submitForm:A},"addCandidate"),Object(n.jsx)(L,{disabled:M,title:"Update Candidate",open:N,formScheme:T,handleClose:function(){U(!1),W(!1)},initValues:E,submitForm:D},"updateCandidate")]})};R.auth=!0,R.layout=p.a;t.default=R},Z2sF:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/students_affairs/affairs_officer/candidates/candidates-list",function(){return a("T1UL")}])},"hGi/":function(e,t,a){"use strict";function n(e){if(null==e)throw new TypeError("Cannot destructure undefined")}a.d(t,"a",(function(){return n}))},n0zQ:function(e,t,a){"use strict";var n=a("q1tI"),i=a("5AJ6");t.a=Object(i.a)(n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")}},[["Z2sF",0,2,16,1,3,5,6,7,8,9,10,12,11,14,4]]]);