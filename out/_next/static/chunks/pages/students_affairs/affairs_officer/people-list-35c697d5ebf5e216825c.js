_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[33],{C0C4:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/students_affairs/affairs_officer/people-list",function(){return a("jhJm")}])},"hGi/":function(e,t,a){"use strict";function n(e){if(null==e)throw new TypeError("Cannot destructure undefined")}a.d(t,"a",(function(){return n}))},jhJm:function(e,t,a){"use strict";a.r(t);var n=a("nKUr"),r=a("o0o1"),i=a.n(r),s=a("HaE+"),o=a("ODXe"),l=a("hGi/"),c=a("q1tI"),d=a.n(c),u=a("Z3vd"),p=a("i6E2"),m=a("dCKf"),h=a("R/WZ"),b=a("mtPR"),j=a("i4t8"),f=a("drkM"),x=a("2j+g"),O=a("1OyB"),N=a("vuIU"),v=a("B6G6"),g=function(){function e(){Object(O.a)(this,e)}return Object(N.a)(e,null,[{key:"GetAll",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/people",e.next=3,v.a.get("/people").then((function(e){if(console.log("response",e),e.data.success)return e.data})).catch((function(e){throw console.log("Api Error:",e),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"Add",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/person/add",e.next=3,v.a.get("/person/add").then((function(e){if(e.data.success)return e.data})).catch((function(e){throw console.log("Api Error:",e),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"Edit",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/person/edit",e.next=3,v.a.get("/person/edit").then((function(e){if(e.data.success)return e.data})).catch((function(e){throw console.log("Api Error:",e),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"Get",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/person/details",e.next=3,v.a.get("/person/details").then((function(e){if(e.data.success)return e.data})).catch((function(e){throw console.log("Api Error:",e),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"AddPhone",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/person/add-phone",e.next=3,v.a.get("/person/add-phone").then((function(e){if(e.data.success)return e.data})).catch((function(e){throw console.log("Api Error:",e),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"EditPhone",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/person/edit-phone",e.next=3,v.a.get("/person/edit-phone").then((function(e){if(e.data.success)return e.data})).catch((function(e){throw console.log("Api Error:",e),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"DeletePhone",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/person/delete-phone",e.next=3,v.a.get("/person/delete-phone").then((function(e){if(e.data.success)return e.data})).catch((function(e){throw console.log("Api Error:",e),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),y=a("KYPV"),w=a("Xt1q"),q=a("hlFM"),C=a("tRbT"),P=a("PsDL"),k=a("ofer"),S=a("r9w1"),F=a("jjAL"),L=a("n0zQ"),B=a("A2So"),A=a("2zww"),T=a("UsYt"),E=a("8uep"),I=function(e){var t=e.disabled,a=e.title,r=e.open,i=e.initValues,s=e.submitForm,o=e.formScheme,l=e.handleClose,c=[{id:"male",value:"Male"},{id:"female",value:"Female"}],d={modal:{overflowY:"scroll",overflowX:"hidden",height:"75%"},header:{height:"5em",position:"sticky",borderTopRightRadius:"inherit",borderTopLeftRadius:"inherit",backgroundColor:"#A69577"}};return Object(n.jsx)(w.a,{open:r,onClose:l,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(n.jsx)(q.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,borderRadius:"20px"},style:d.modal,children:Object(n.jsxs)(B.a,{style:{position:"absolute",width:400,bgcolor:"background.paper",boxShadow:24,borderRadius:"20px",marginTop:"0px",marginBottom:"0px"},children:[Object(n.jsx)(A.a,{style:d.header,children:Object(n.jsxs)(C.a,{container:!0,children:[Object(n.jsx)(C.a,{md:8,children:Object(n.jsx)("center",{children:Object(n.jsxs)("h4",{style:{fontWeight:"bold"},children:[a," "]})})}),Object(n.jsx)(C.a,{md:4,children:Object(n.jsx)(P.a,{style:{position:"absolute",right:"2em",top:"1em"},onClick:l,children:Object(n.jsx)(L.a,{})})})]})}),Object(n.jsx)(T.a,{children:Object(n.jsx)(y.c,{initialValues:i,validationSchema:o,onSubmit:function(e,t){var a=t.setSubmitting;s(e,a)},children:function(e){var a=e.values,r=e.handleChange,i=(e.handleSubmit,e.errors),s=e.touched,o=e.handleBlur,l=e.isSubmitting,d=e.isValid,u=e.dirty;return Object(n.jsxs)(y.b,{children:[Object(n.jsxs)(q.a,{mb:2,children:[Object(n.jsx)(q.a,{mb:1,ml:.5,children:Object(n.jsx)(k.a,{component:"label",variant:"caption",children:"First Name"})}),Object(n.jsx)(S.a,{disabled:t,onChange:r,variant:"outlined",size:"small",type:"text",id:"firstName",name:"firstName",value:a.firstName,onBlur:o,error:Boolean(s.firstName&&i.firstName),helperText:s.firstName&&i.firstName,placeholder:"ahmad",fullWidth:!0})]}),Object(n.jsxs)(q.a,{mb:2,children:[Object(n.jsx)(q.a,{mb:1,ml:.5,children:Object(n.jsx)(k.a,{component:"label",variant:"caption",children:"Last Name"})}),Object(n.jsx)(S.a,{disabled:t,onChange:r,variant:"outlined",size:"small",type:"text",id:"lastName",name:"lastName",value:a.lastName,onBlur:o,error:Boolean(s.lastName&&i.lastName),helperText:s.lastName&&i.lastName,placeholder:"ahmad",fullWidth:!0})]}),Object(n.jsx)(q.a,{mb:2,children:Object(n.jsxs)(q.a,{mb:1,ml:.5,children:[Object(n.jsx)(k.a,{component:"label",variant:"caption",children:"Gender"}),Object(n.jsx)(S.a,{disabled:t,id:"gender",select:!0,value:a.gender,onChange:r("gender"),margin:"normal",fullWidth:!0,children:c.map((function(e){return Object(n.jsx)(F.a,{value:e.id,children:e.value},e.id)}))})]})}),Object(n.jsxs)(q.a,{mb:2,children:[Object(n.jsx)(q.a,{mb:1,ml:.5,children:Object(n.jsx)(k.a,{component:"label",variant:"caption",children:"Nationality"})}),Object(n.jsx)(S.a,{disabled:t,onChange:r,variant:"outlined",size:"small",type:"text",id:"nationality",name:"nationality",value:a.nationality,onBlur:o,error:Boolean(s.nationality&&i.nationality),helperText:s.nationality&&i.nationality,placeholder:"syrian",fullWidth:!0})]}),Object(n.jsxs)(q.a,{mb:2,children:[Object(n.jsx)(q.a,{mb:1,ml:.5,children:Object(n.jsx)(k.a,{component:"label",variant:"caption",children:"National Id"})}),Object(n.jsx)(S.a,{disabled:t,onChange:r,variant:"outlined",size:"small",type:"text",id:"nationalId",name:"nationalId",value:a.nationalId,onBlur:o,error:Boolean(s.nationalId&&i.nationalId),helperText:s.nationalId&&i.nationalId,placeholder:"037234",fullWidth:!0})]}),Object(n.jsxs)(q.a,{mb:2,children:[Object(n.jsx)(q.a,{mb:1,ml:.5,children:Object(n.jsx)(k.a,{component:"label",variant:"caption",children:"Passport First Name"})}),Object(n.jsx)(S.a,{disabled:t,onChange:r,variant:"outlined",size:"small",type:"text",id:"passportFirstName",name:"passportFirstName",value:a.passportFirstName,onBlur:o,error:Boolean(s.passportFirstName&&i.passportFirstName),helperText:s.passportFirstName&&i.passportFirstName,placeholder:"AHMAD",fullWidth:!0})]}),Object(n.jsxs)(q.a,{mb:2,children:[Object(n.jsx)(q.a,{mb:1,ml:.5,children:Object(n.jsx)(k.a,{component:"label",variant:"caption",children:"Passport Last Name"})}),Object(n.jsx)(S.a,{disabled:t,onChange:r,variant:"outlined",size:"small",type:"text",id:"passportLastName",name:"passportLastName",value:a.passportLastName,onBlur:o,error:Boolean(s.passportLastName&&i.passportLastName),helperText:s.passportLastName&&i.passportLastName,placeholder:"AHMAD",fullWidth:!0})]}),Object(n.jsxs)(q.a,{mb:2,children:[Object(n.jsx)(q.a,{mb:1,ml:.5,children:Object(n.jsx)(k.a,{component:"label",variant:"caption",children:"Passport Number"})}),Object(n.jsx)(S.a,{disabled:t,onChange:r,variant:"outlined",size:"small",type:"text",id:"passportNumber",name:"passportNumber",value:a.passportNumber,onBlur:o,error:Boolean(s.passportNumber&&i.passportNumber),helperText:s.passportNumber&&i.passportNumber,placeholder:"5434566",fullWidth:!0})]}),Object(n.jsx)(q.a,{mt:4,mb:1,children:l?Object(n.jsx)(E.a,{disabled:!0,variant:"gradient",color:"info",fullWidth:!0,children:"Processing"}):Object(n.jsx)(E.a,{disabled:!(u&&d),type:"submit",variant:"gradient",color:"info",fullWidth:!0,children:"Save"})})]})}})})]})})})},W=a("UGp+"),_=function(e){var t=e.title,a=e.open,r=e.initValues,i=e.submitForm,s=e.formScheme,o=e.handleClose;return Object(n.jsx)(w.a,{open:a,onClose:o,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(n.jsx)(q.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,borderRadius:"20px"},children:Object(n.jsxs)(B.a,{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,borderRadius:"20px",marginTop:"0px",marginBottom:"0px"},children:[Object(n.jsx)(A.a,{style:{height:"5em",borderTopRightRadius:"inherit",borderTopLeftRadius:"inherit",backgroundColor:"#A69577"},children:Object(n.jsx)("center",{children:Object(n.jsx)("h4",{style:{fontWeight:"bold"},children:t})})}),Object(n.jsx)(T.a,{children:Object(n.jsx)(y.c,{initialValues:r,validationSchema:s,onSubmit:function(e,t){var a=t.setSubmitting;i(e,a)},children:function(e){var t=e.values,a=e.handleChange,r=(e.handleSubmit,e.errors),i=e.touched,s=e.handleBlur,o=e.isSubmitting,l=e.isValid,c=e.dirty;return Object(n.jsxs)(y.b,{children:[Object(n.jsxs)(q.a,{mb:2,children:[Object(n.jsx)(q.a,{mb:1,ml:.5,children:Object(n.jsx)(k.a,{component:"label",variant:"caption",children:"Phone"})}),Object(n.jsx)(S.a,{onChange:a,variant:"outlined",size:"small",type:"text",id:"name",name:"name",value:t.name,onBlur:s,error:Boolean(i.name&&r.name),helperText:i.name&&r.name,placeholder:"12345",fullWidth:!0})]}),Object(n.jsxs)(q.a,{mb:2,children:[Object(n.jsx)(q.a,{mb:1,ml:.5,children:Object(n.jsx)(k.a,{component:"label",variant:"caption",children:"Type"})}),Object(n.jsx)(S.a,{onChange:a,variant:"outlined",size:"small",type:"text",id:"type",name:"type",value:t.type,onBlur:s,error:Boolean(i.type&&r.type),helperText:i.type&&r.type,placeholder:"phone type (mobile. etc..)",fullWidth:!0})]}),Object(n.jsx)(q.a,{mt:4,mb:1,children:o?Object(n.jsx)(E.a,{disabled:!0,variant:"gradient",color:"info",fullWidth:!0,children:"Processing"}):Object(n.jsx)(E.a,{disabled:!(c&&l),type:"submit",variant:"gradient",color:"info",fullWidth:!0,children:"Save"})})]})}})})]})})})},z=function(e){Object(l.a)(e);var t=Object(h.a)(m.a)(),a=d.a.useState(!1),r=Object(o.a)(a,2),p=r[0],O=r[1],N=d.a.useState(0),v=Object(o.a)(N,2),y=(v[0],v[1],d.a.useState({id:0,firstName:"",lastName:"",gender:"male",nationalId:"",nationality:"",passportFirstName:"",passportLastName:"",passportNumber:""})),w=Object(o.a)(y,2),q=w[0],C=(w[1],W.b().shape({firstName:W.c().required("First name is required"),lastName:W.c().required("Last name is required"),gender:W.c().required("Gender is required"),passportFirstName:W.c().required("Passport First Name is required"),passportLastName:W.c().required("Passport Last Name is required"),nationality:W.c().required("Nationality is required"),nationalId:W.c().required("NationalId is required"),passportNumber:W.c().required("Passport Number is required")})),P=W.b().shape({firstName:W.c().required("First name is required"),lastName:W.c().required("Last name is required"),gender:W.c().required("Gender is required"),passportFirstName:W.c().required("Passport First Name is required"),passportLastName:W.c().required("Passport Last Name is required"),nationality:W.c().required("Nationality is required"),nationalId:W.c().required("NationalId is required"),passportNumber:W.c().required("Passport Number is required")}),k=function(){var e=Object(s.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("values",t),a(!1);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),S=d.a.useState(!1),F=Object(o.a)(S,2),L=F[0],B=F[1],A=d.a.useState({id:0,name:"",type:""}),T=Object(o.a)(A,2),E=T[0],z=(T[1],W.b().shape({name:W.c().required("Name is required"),type:W.c().required("Type is required")})),R=function(){var e=Object(s.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("values",t),a(!1);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),G=d.a.useState(!1),V=Object(o.a)(G,2),D=V[0],M=V[1],J=d.a.useState({id:0,name:"",type:""}),U=Object(o.a)(J,2),X=U[0],H=(U[1],W.b().shape({name:W.c().required("Name is required"),type:W.c().required("Type is required")})),K=function(){var e=Object(s.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("values",t),a(!1);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){g.GetAll().then((function(e){console.log("people",e),me(e.result)})).catch((function(e){console.error("roles",e)}))}),[]);var Y=d.a.useState(!1),Q=Object(o.a)(Y,2),Z=Q[0],$=Q[1],ee=d.a.useState({id:0,firstName:"",lastName:"",gender:"male",nationalId:"",nationality:"",passportFirstName:"",passportLastName:"",passportNumber:""}),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],re=function(){var e=Object(s.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("values",t),a(!1);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ie=d.a.useState(!1),se=Object(o.a)(ie,2),oe=se[0],le=se[1],ce=function(e){throw new Error("Function not implemented.")},de=d.a.useState(null),ue=Object(o.a)(de,2),pe=ue[0],me=ue[1];return Object(n.jsxs)(b.a,{children:[Object(n.jsxs)(j.a,{md:12,children:[Object(n.jsx)(u.a,{disabled:!1,variant:"contained",className:t.submitBtn,onClick:function(){O(!0)},children:"Add New Person"}),function(){if(null!=pe&&pe.length>0){var e=pe;return Object(n.jsx)(f.a,{Title:"People List",Columns:[{title:"Id",field:"id",hidden:!0},{title:"First Name",field:"firstName"},{title:"Last Name",field:"lastName"},{title:"Gender",field:"gender"},{title:"Nationality",field:"nationality"},{title:"National Id",field:"nationalId"},{title:"Passport First Name",field:"passportFirstName",hidden:!0},{title:"Passport Last Name",field:"passportLastName",hidden:!0},{title:"Passport Number",field:"passportNumber",hidden:!0}],Data:e,Options:{headerStyle:{backgroundColor:"#01579b",color:"#FFF",fontWeight:"bold"},filtering:!1,paging:!0,maxBodyHeight:"500px"},Actions:[{tooltip:"Person Details",icon:"details",onClick:function(e,t){return t.id,le(!0),void $(!0)}},{tooltip:"Edit Person",icon:"edit",onClick:function(e,t){return function(e){console.log("data",e),ne({id:e.id,firstName:e.firstName,gender:e.gender,lastName:e.lastName,nationalId:e.nationalId,nationality:e.nationality,passportFirstName:e.passportFirstName,passportLastName:e.passportLastName,passportNumber:e.passportNumber}),$(!0)}(t)}},{tooltip:"Add Phone",icon:"add_phone",onClick:function(e,t){B(!0)}},{tooltip:"Phone Details",icon:"phone",onClick:function(e,t){return ce(t.id)}},{tooltip:"Delete Phone",icon:"phone_disabled",onClick:function(e,t){return ce(t.id)}}]})}return Object(n.jsx)(x.a,{})}()]}),Object(n.jsx)(I,{disabled:oe,title:"Add Person",open:p,formScheme:C,handleClose:function(){O(!1)},initValues:q,submitForm:k},"addPerson"),Object(n.jsx)(I,{disabled:oe,title:"Update Person",open:Z,formScheme:P,handleClose:function(){le(!1),$(!1)},initValues:ae,submitForm:re},"updatePerson"),Object(n.jsx)(_,{title:"Add Phone",open:L,formScheme:z,handleClose:function(){B(!1)},initValues:E,submitForm:R},"addPhone"),Object(n.jsx)(_,{title:"Edit Phone",open:D,formScheme:H,handleClose:function(){M(!1)},initValues:X,submitForm:K},"editPhone")]})};z.auth=!0,z.layout=p.a;t.default=z},n0zQ:function(e,t,a){"use strict";var n=a("q1tI"),r=a("5AJ6");t.a=Object(r.a)(n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")}},[["C0C4",0,2,16,1,3,5,6,7,8,9,10,12,11,14,4]]]);